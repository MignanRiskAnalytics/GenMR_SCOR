

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reference manual &mdash; GenMR 1.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=58fbf978"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial 1: Generating a virtual environment for the GenMR digital template" href="notebooks/Tutorial1_DigitalTemplate_environment.html" />
    <link rel="prev" title="Rationale" href="rationale.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GenMR
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="rationale.html">Rationale</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#compound-events">Compound events</a></li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#generic-multi-risk-genmr-framework">Generic Multi-Risk (GenMR) framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rationale.html#past-developments">Past developments</a></li>
<li class="toctree-l3"><a class="reference internal" href="rationale.html#new-developments">New developments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#digital-template">Digital Template</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rationale.html#id18">Past developments</a></li>
<li class="toctree-l3"><a class="reference internal" href="rationale.html#id26">New developments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#tutorials">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#how-to-guides">How-to guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reference manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-GenMR.environment">GenMR.environment module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#genmr-virtual-environment-generator">GenMR Virtual Environment Generator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#layers-and-related-objects-v1-1-1">Layers and Related Objects (v1.1.1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#planned-additions-v1-1-2">Planned Additions (v1.1.2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.Ex_S_kton"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.Ex_S_kton</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.area"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.area</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.centroid"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.centroid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.distance_to_coast"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.distance_to_coast</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.distance_to_river"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.distance_to_river</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.name"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.polygon"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.polygon</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.zone_type"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.zone_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand.ID"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand.ID</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand.soil"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand.soil</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand.grid"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand.grid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand.topo"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand.topo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand.src"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand.src</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand.par"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand.par</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand.S"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand.S</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand.hW"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand.hW</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.ID"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.ID</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.topo"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.topo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.par"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.par</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.grid"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.grid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.h"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.h</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.hw"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.hw</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.FS_state"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.FS_state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.FS_value"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.FS_value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.wetness"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.wetness</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.ID"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.ID</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.src"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.src</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.grid"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.grid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.par"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.par</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.z"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.z</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.gridlow"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.gridlow</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.algo_diamondsquare"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.algo_diamondsquare()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.aspect"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.aspect</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.coastline_coord"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.coastline_coord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_cs_compoundbevel"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_cs_compoundbevel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_fr_diamondsquare"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_fr_diamondsquare()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_rv_dampedsine"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_rv_dampedsine()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_th_ellipsoid"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_th_ellipsoid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_vo_cone"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_vo_cone()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.river_coord"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.river_coord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.slope"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.slope</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.ID"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.ID</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.grid"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.grid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.topo"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.topo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.par"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.par</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.S"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.S</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.year"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.year</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.urban_yes"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.urban_yes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.disp_val"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.disp_val</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.max_roadsearch"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.max_roadsearch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.roadNet"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.roadNet</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.built"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.built</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.roads"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.roads</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.built_type"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.built_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.built_yr"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.built_yr</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.CI_refinery"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.CI_refinery</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.bldg_roofpitch"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.bldg_roofpitch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.bldg_type"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.bldg_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.bldg_value"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.bldg_value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.calc_Pr_urbanise"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.calc_Pr_urbanise()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.get_S_urban"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.get_S_urban()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.get_d4mkd"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.get_d4mkd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.get_industrialZones"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.get_industrialZones()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.get_state_built"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.get_state_built()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.industrialZones"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.industrialZones</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.roadNet_coord"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.roadNet_coord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.transform_landUse"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.transform_landUse()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.topo"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.topo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.land"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.land</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.par"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.par</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.grid"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.grid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.net"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.net</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.Rmax"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.Rmax</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.mask"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.mask</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.S"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.S</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.id"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.eps"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.eps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork.nodeID"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork.nodeID</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.RasterGrid"><code class="docutils literal notranslate"><span class="pre">RasterGrid</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.calc_FS"><code class="docutils literal notranslate"><span class="pre">calc_FS()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.calc_coord_river_dampedsine"><code class="docutils literal notranslate"><span class="pre">calc_coord_river_dampedsine()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.calc_topo_attributes"><code class="docutils literal notranslate"><span class="pre">calc_topo_attributes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.downscale_RasterGrid"><code class="docutils literal notranslate"><span class="pre">downscale_RasterGrid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.get_FS_state"><code class="docutils literal notranslate"><span class="pre">get_FS_state()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.plot_EnvLayer_attr"><code class="docutils literal notranslate"><span class="pre">plot_EnvLayer_attr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.plot_EnvLayers"><code class="docutils literal notranslate"><span class="pre">plot_EnvLayers()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GenMR.perils">GenMR.perils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#genmr-peril-implementation">GenMR Peril Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#peril-models-v1-1-1">Peril models (v1.1.1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#planned-peril-models-v1-1-2">Planned peril models (v1.1.2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_FF"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_FF</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_FF.result"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_FF.result()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_FF.run"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_FF.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_FF.write_gif"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_FF.write_gif()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_LS"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_LS</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_LS.result"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_LS.result()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_LS.run"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_LS.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_LS.write_gif"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_LS.write_gif()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_WF"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_WF</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_WF.run"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_WF.run()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.DynamicHazardFootprintGenerator"><code class="docutils literal notranslate"><span class="pre">DynamicHazardFootprintGenerator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.DynamicHazardFootprintGenerator.generate"><code class="docutils literal notranslate"><span class="pre">DynamicHazardFootprintGenerator.generate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.DynamicHazardFootprintGenerator.load_WF_CA_footprints"><code class="docutils literal notranslate"><span class="pre">DynamicHazardFootprintGenerator.load_WF_CA_footprints()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.EventSetGenerator"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.EventSetGenerator.src"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator.src</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.EventSetGenerator.sizeDistr"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator.sizeDistr</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.EventSetGenerator.utils"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator.utils</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.EventSetGenerator.ev_stoch"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator.ev_stoch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.EventSetGenerator.ev_char"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator.ev_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.EventSetGenerator.generate"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator.generate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.add_v_forward"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.add_v_forward()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_I_ash_m"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_I_ash_m()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_I_blast_kPa"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_I_blast_kPa()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_I_shaking_ms2"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_I_shaking_ms2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_I_v_ms"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_I_v_ms()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_S_track"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_S_track()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.generate"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.generate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.get_TC_timeshot"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.get_TC_timeshot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.model_SS_Bathtub"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.model_SS_Bathtub()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.RiskFootprintGenerator"><code class="docutils literal notranslate"><span class="pre">RiskFootprintGenerator</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.Src"><code class="docutils literal notranslate"><span class="pre">Src</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.AI_char"><code class="docutils literal notranslate"><span class="pre">Src.AI_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.EQ_char"><code class="docutils literal notranslate"><span class="pre">Src.EQ_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.FF_char"><code class="docutils literal notranslate"><span class="pre">Src.FF_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.TC_char"><code class="docutils literal notranslate"><span class="pre">Src.TC_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.VE_char"><code class="docutils literal notranslate"><span class="pre">Src.VE_char</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_EQ_length2magnitude"><code class="docutils literal notranslate"><span class="pre">calc_EQ_length2magnitude()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_EQ_magnitude2length"><code class="docutils literal notranslate"><span class="pre">calc_EQ_magnitude2length()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_Lbd_GPD"><code class="docutils literal notranslate"><span class="pre">calc_Lbd_GPD()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_Lbd_exponential"><code class="docutils literal notranslate"><span class="pre">calc_Lbd_exponential()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_Lbd_powerlaw"><code class="docutils literal notranslate"><span class="pre">calc_Lbd_powerlaw()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.get_peril_evID"><code class="docutils literal notranslate"><span class="pre">get_peril_evID()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.incrementing"><code class="docutils literal notranslate"><span class="pre">incrementing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.plot_hazFootprints"><code class="docutils literal notranslate"><span class="pre">plot_hazFootprints()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.plot_src"><code class="docutils literal notranslate"><span class="pre">plot_src()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.plot_vulnFunctions"><code class="docutils literal notranslate"><span class="pre">plot_vulnFunctions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.vuln_f"><code class="docutils literal notranslate"><span class="pre">vuln_f()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GenMR.utils">GenMR.utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#genmr-utility-functions">GenMR Utility Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.calc_EP"><code class="docutils literal notranslate"><span class="pre">calc_EP()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.calc_riskmetrics_fromELT"><code class="docutils literal notranslate"><span class="pre">calc_riskmetrics_fromELT()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.cmap_peril"><code class="docutils literal notranslate"><span class="pre">cmap_peril()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.col_peril"><code class="docutils literal notranslate"><span class="pre">col_peril()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.col_state_h"><code class="docutils literal notranslate"><span class="pre">col_state_h()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.fetch_A0"><code class="docutils literal notranslate"><span class="pre">fetch_A0()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.get_ind_aspect2moore"><code class="docutils literal notranslate"><span class="pre">get_ind_aspect2moore()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.get_neighborhood_ind"><code class="docutils literal notranslate"><span class="pre">get_neighborhood_ind()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.get_net_coord"><code class="docutils literal notranslate"><span class="pre">get_net_coord()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.incrementing"><code class="docutils literal notranslate"><span class="pre">incrementing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.init_io"><code class="docutils literal notranslate"><span class="pre">init_io()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.load_json2dict"><code class="docutils literal notranslate"><span class="pre">load_json2dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.load_pickle2class"><code class="docutils literal notranslate"><span class="pre">load_pickle2class()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.marker_peril"><code class="docutils literal notranslate"><span class="pre">marker_peril()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.norm_z"><code class="docutils literal notranslate"><span class="pre">norm_z</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.partitioning"><code class="docutils literal notranslate"><span class="pre">partitioning()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.pooling"><code class="docutils literal notranslate"><span class="pre">pooling()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.save_class2pickle"><code class="docutils literal notranslate"><span class="pre">save_class2pickle()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.save_dict2json"><code class="docutils literal notranslate"><span class="pre">save_dict2json()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.zero_boundary_2d"><code class="docutils literal notranslate"><span class="pre">zero_boundary_2d()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html">Tutorial 1: Environment generation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#natural-environment-generation">1. Natural environment generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#grid-definition">1.1. Grid definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#natural-peril-definition-for-environmental-objects">1.2. Natural peril definition (for environmental objects)</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#generating-the-topography-soil-and-natural-land-layers">1.3. Generating the topography, soil, and natural land layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#environmental-layer-properties-and-attribute-plotting">1.4. Environmental layer properties (and attribute plotting)</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#a-note-on-environmental-layer-downscaling">1.5. A note on environmental layer downscaling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#technological-environment-generation">2. Technological environment generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#generating-the-urban-land-layer-and-road-network-object">2.1. Generating the urban land layer (and road network object)</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#environmental-layer-properties">2.2. Environmental layer properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html">Tutorial 2: Peril implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#stochastic-event-set">1. Stochastic event set</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#peril-source-definition">1.1. Peril source definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#event-table-generation">1.2. Event table generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#intensity-footprint-catalogue-generation">1.3. Intensity footprint catalogue generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#from-analytical-expressions-threshold-models">1.3.1. From analytical expressions &amp; threshold models</a></li>
<li class="toctree-l4"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#from-numerical-models-cellular-automata">1.3.2. From numerical models (cellular automata)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#probabilistic-risk-assessment">2. Probabilistic risk assessment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#vulnerability-curve-definition">2.1. Vulnerability curve definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#loss-footprint-catalogue-generation">2.2. Loss footprint catalogue generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#risk-metrics">2.3. Risk metrics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#appendix">Appendix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#a-peril-sources">A. Peril sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#b-stochastic-event-set">B. Stochastic event set</a><ul>
<li class="toctree-l4"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#b-1-earthquake-case">B.1. Earthquake case</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#c-hazard-footprints">C. Hazard footprints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#c-1-tropical-cyclone-case">C.1. Tropical cyclone case</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GenMR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Reference manual</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/manual.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="reference-manual">
<h1>Reference manual<a class="headerlink" href="#reference-manual" title="Link to this heading"></a></h1>
<section id="module-GenMR.environment">
<span id="genmr-environment-module"></span><h2>GenMR.environment module<a class="headerlink" href="#module-GenMR.environment" title="Link to this heading"></a></h2>
<section id="genmr-virtual-environment-generator">
<h3>GenMR Virtual Environment Generator<a class="headerlink" href="#genmr-virtual-environment-generator" title="Link to this heading"></a></h3>
<p>This module defines the environmental layers and objects used in the GenMR digital template.
Environmental layers are implemented as classes, and associated environmental objects are
defined as classes or methods.</p>
<section id="layers-and-related-objects-v1-1-1">
<h4>Layers and Related Objects (v1.1.1)<a class="headerlink" href="#layers-and-related-objects-v1-1-1" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Topography</strong> — includes tectonic hills, river valleys, and volcanic edifices
→ properties: slope, aspect</p></li>
<li><p><strong>Soil</strong> — includes factor of safety</p></li>
<li><p><strong>Natural land</strong></p></li>
<li><p><strong>Urban land</strong> — includes road network
→ properties: asset value</p></li>
</ul>
</section>
<section id="planned-additions-v1-1-2">
<h4>Planned Additions (v1.1.2)<a class="headerlink" href="#planned-additions-v1-1-2" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Atmosphere</p></li>
<li><p>Power grid</p></li>
<li><p>Population</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Arnaud Mignan, Mignan Risk Analytics GmbH</p>
</dd>
<dt class="field-even">Version<span class="colon">:</span></dt>
<dd class="field-even"><p>1.1.2</p>
</dd>
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2025-12-17</p>
</dd>
<dt class="field-even">License<span class="colon">:</span></dt>
<dd class="field-even"><p>AGPL-3</p>
</dd>
</dl>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">CriticalInfrastructure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Polygon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_to_coast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_to_river</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ex_S_kton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a critical infrastructure facility or asset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name or identifier of the infrastructure.</p></li>
<li><p><strong>zone_type</strong> (<em>str</em>) – Type of industrial zone.</p></li>
<li><p><strong>area</strong> (<em>float</em>) – Area of the facility.</p></li>
<li><p><strong>centroid</strong> (<em>tuple</em><em> of </em><em>float</em>) – Coordinates (x, y) of the facility’s centroid.</p></li>
<li><p><strong>polygon</strong> (<em>shapely.geometry.Polygon</em>) – Polygon representing the infrastructure footprint.</p></li>
<li><p><strong>distance_to_coast</strong> (<em>float</em>) – Minimum distance from the infrastructure to the nearest coastline [km].</p></li>
<li><p><strong>distance_to_river</strong> (<em>float</em>) – Minimum distance from the infrastructure to the nearest river [km].</p></li>
<li><p><strong>Ex_S_kton</strong> (<em>float</em>) – Explosive or hazard-related characteristic, e.g., explosive stock in kilotons.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.Ex_S_kton">
<span class="sig-name descname"><span class="pre">Ex_S_kton</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.Ex_S_kton" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.area">
<span class="sig-name descname"><span class="pre">area</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.area" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.centroid">
<span class="sig-name descname"><span class="pre">centroid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.centroid" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.distance_to_coast">
<span class="sig-name descname"><span class="pre">distance_to_coast</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.distance_to_coast" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.distance_to_river">
<span class="sig-name descname"><span class="pre">distance_to_river</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.distance_to_river" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.polygon">
<span class="sig-name descname"><span class="pre">polygon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Polygon</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.polygon" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.zone_type">
<span class="sig-name descname"><span class="pre">zone_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.zone_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvLayer_natLand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">soil</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines an environmental layer for natural land classification, including water, forest, and grassland.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>soil</strong> (<a class="reference internal" href="#GenMR.environment.EnvLayer_soil" title="GenMR.environment.EnvLayer_soil"><em>EnvLayer_soil</em></a>) – Soil layer object containing topography, soil thickness, and wetness information.</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – <p>Dictionary of parameters controlling land classification. Keys include:
- ve_treeline_m : float</p>
<blockquote>
<div><p>Elevation threshold (m) above which forest does not grow.</p>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand.ID">
<span class="sig-name descname"><span class="pre">ID</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand.ID" title="Link to this definition"></a></dt>
<dd><p>Identifier of the layer, set to ‘natLand’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand.soil">
<span class="sig-name descname"><span class="pre">soil</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand.soil" title="Link to this definition"></a></dt>
<dd><p>Copy of the input soil layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.EnvLayer_soil" title="GenMR.environment.EnvLayer_soil">EnvLayer_soil</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand.grid">
<span class="sig-name descname"><span class="pre">grid</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand.grid" title="Link to this definition"></a></dt>
<dd><p>Grid object defining the spatial domain and resolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid">RasterGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand.topo">
<span class="sig-name descname"><span class="pre">topo</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand.topo" title="Link to this definition"></a></dt>
<dd><p>Copy of the topography layer associated with the soil layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.EnvLayer_topo" title="GenMR.environment.EnvLayer_topo">EnvLayer_topo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand.src">
<span class="sig-name descname"><span class="pre">src</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand.src" title="Link to this definition"></a></dt>
<dd><p>Source object containing original RasterGrid and perils information.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand.par">
<span class="sig-name descname"><span class="pre">par</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand.par" title="Link to this definition"></a></dt>
<dd><p>Dictionary of parameters controlling land classification.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand.S">
<span class="sig-name descname"><span class="pre">S</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand.S" title="Link to this definition"></a></dt>
<dd><p>Integer array of land class codes:
- -1 : water
- 0  : grassland
- 1  : forest</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand.hW">
<span class="sig-name descname"><span class="pre">hW</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand.hW" title="Link to this definition"></a></dt>
<dd><p>River height (m) in river cells, zeros elsewhere.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvLayer_soil</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">topo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Environmental layer representing soil properties over a raster grid.</p>
<p>The state variable is soil thickness <cite>h</cite>. Additional characteristics
include water height <cite>hw</cite> and optional corrections for unstable soil.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topo</strong> (<a class="reference internal" href="#GenMR.environment.EnvLayer_topo" title="GenMR.environment.EnvLayer_topo"><em>EnvLayer_topo</em></a>) – The topography layer used as reference for the soil layer.</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – <p>Dictionary of parameters for the soil layer. Expected keys include:
- ‘h0_m’ : float</p>
<blockquote>
<div><p>Reference soil thickness in meters.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>’wat_h_m’<span class="classifier">float</span></dt><dd><p>Water height in meters.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’corr’<span class="classifier">str</span></dt><dd><p>Correction method for unstable soil, e.g., ‘remove_unstable’.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.ID">
<span class="sig-name descname"><span class="pre">ID</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.ID" title="Link to this definition"></a></dt>
<dd><p>Identifier of the layer (‘soil’).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.topo">
<span class="sig-name descname"><span class="pre">topo</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.topo" title="Link to this definition"></a></dt>
<dd><p>Reference topography layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.EnvLayer_topo" title="GenMR.environment.EnvLayer_topo">EnvLayer_topo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.par">
<span class="sig-name descname"><span class="pre">par</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.par" title="Link to this definition"></a></dt>
<dd><p>Parameter dictionary provided at initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.grid">
<span class="sig-name descname"><span class="pre">grid</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.grid" title="Link to this definition"></a></dt>
<dd><p>Grid associated with the topography layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid">RasterGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.h">
<span class="sig-name descname"><span class="pre">h</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.h" title="Link to this definition"></a></dt>
<dd><p>Soil thickness in meters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape (grid.nx, grid.ny)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.hw">
<span class="sig-name descname"><span class="pre">hw</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.hw" title="Link to this definition"></a></dt>
<dd><p>Water height in meters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.FS_state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FS_state</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.FS_state" title="Link to this definition"></a></dt>
<dd><p>Determine the categorical FS state from FS values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>FS_code</strong> – 2D array of integers representing soil stability:
- 0: stable (FS &gt; 1.5)
- 1: critical (1 &lt; FS &lt;= 1.5)
- 2: unstable (FS &lt;= 1)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.FS_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FS_value</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.FS_value" title="Link to this definition"></a></dt>
<dd><p>Compute the factor of safety (FS) for slope stability.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>FS</strong> – 2D array of FS values computed using soil thickness, wetness, slope, and soil parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.wetness">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wetness</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.wetness" title="Link to this definition"></a></dt>
<dd><p>Compute the soil wetness ratio for each grid cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>wetness</strong> – 2D array of wetness ratio (dimensionless) in [0,1].</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvLayer_topo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Define an environmental layer for the topography on a coarser grid before interpolating back to default.
The state variable is the altitude z(x,y).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>object</em>) – Source object containing the original RasterGrid and perils information.</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – <p>Dictionary of parameters controlling topography generation. Keys include:
- lores_f : int</p>
<blockquote>
<div><p>Downscaling factor for the raster grid.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>bg_tan(phi)<span class="classifier">float</span></dt><dd><p>Background slope factor for altitude construction.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>th<span class="classifier">bool</span></dt><dd><p>Include earthquake-related topography (EQ).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>vo<span class="classifier">bool</span></dt><dd><p>Include volcanic eruption cone (VE).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>fr<span class="classifier">bool</span></dt><dd><p>Include fractal diamondsquare topography.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>fr_eta<span class="classifier">float</span></dt><dd><p>Scaling factor for fractal topography.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>rv<span class="classifier">bool</span></dt><dd><p>Include river valley damped sine topography (FF).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cs<span class="classifier">bool</span></dt><dd><p>Include compound bevel topography.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.ID">
<span class="sig-name descname"><span class="pre">ID</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.ID" title="Link to this definition"></a></dt>
<dd><p>Identifier of the environmental layer (‘topo’).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.src">
<span class="sig-name descname"><span class="pre">src</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.src" title="Link to this definition"></a></dt>
<dd><p>Copy of the source object passed as parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.grid">
<span class="sig-name descname"><span class="pre">grid</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.grid" title="Link to this definition"></a></dt>
<dd><p>Default-resolution grid associated with the source.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid">RasterGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.par">
<span class="sig-name descname"><span class="pre">par</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.par" title="Link to this definition"></a></dt>
<dd><p>Parameter dictionary passed at initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.z">
<span class="sig-name descname"><span class="pre">z</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.z" title="Link to this definition"></a></dt>
<dd><p>2D array of altitude values in meters at the default resolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.gridlow">
<span class="sig-name descname"><span class="pre">gridlow</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.gridlow" title="Link to this definition"></a></dt>
<dd><p>Coarser downscaled grid used temporarily during topography construction (deleted after upscaling).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid">RasterGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.algo_diamondsquare">
<span class="sig-name descname"><span class="pre">algo_diamondsquare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roughness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.algo_diamondsquare" title="Link to this definition"></a></dt>
<dd><p>Generate a fractal topography using the Diamond-Square algorithm.</p>
<p>The algorithm creates a 2D height matrix with fractal properties,
controlled by the roughness parameter. The final matrix size is
(2^i + 1) × (2^i + 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – Number of iterations; determines the size of the final matrix as 2^i + 1.</p></li>
<li><p><strong>roughness</strong> (<em>float</em>) – Roughness parameter (0 &lt; roughness &lt; 1). Equivalent to 1-H,
where H is the Hurst exponent (fractal dimension D = 3-H).</p></li>
<li><p><strong>sig</strong> (<em>float</em>) – Standard deviation of the random deviations added at each step.</p></li>
<li><p><strong>rng</strong> (<em>numpy.random.Generator</em>) – Random number generator used to create Gaussian noise for the surface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>m</strong> – 2D array representing the generated fractal topography.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape (2^i + 1, 2^i + 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.aspect">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aspect</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.aspect" title="Link to this definition"></a></dt>
<dd><p>Compute the aspect (orientation) of the topography in degrees.</p>
<p>Aspect is calculated from the x- and y- gradients of the elevation
field <cite>z(x, y)</cite> using a 3x3 kernel finite-difference method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>aspect</strong> – 2D array of aspect values in degrees at each grid point.
Values indicate the downslope direction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray of float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.coastline_coord">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">coastline_coord</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.coastline_coord" title="Link to this definition"></a></dt>
<dd><p>Compute the coordinates of the coastline based on the topography.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>xc</strong> (<em>list of float</em>) – x-coordinates of the coastline points, taken as the last grid cell
in each column where elevation <cite>z &lt;= 0</cite>.</p></li>
<li><p><strong>yc</strong> (<em>ndarray of float</em>) – y-coordinates of the grid columns corresponding to the coastline.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_cs_compoundbevel">
<span class="sig-name descname"><span class="pre">model_cs_compoundbevel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_cs_compoundbevel" title="Link to this definition"></a></dt>
<dd><p>Generate a compound bevel topography along the coastline.</p>
<p>For each column in the grid, the topography is adjusted near the coastline
using a linear slope (bevel) over a specified width (<cite>cs_w_km</cite>) and blended
with the existing elevation using a scaling factor (<cite>cs_eta</cite>). The slope
does not exceed the maximum defined by <cite>cs_tan(phi)</cite> or the inland elevation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zcs</strong> – 2D array representing the adjusted elevation with compound bevels
along the coastline.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray, shape (gridlow.nx, gridlow.ny)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_fr_diamondsquare">
<span class="sig-name descname"><span class="pre">model_fr_diamondsquare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_fr_diamondsquare" title="Link to this definition"></a></dt>
<dd><p>Generate fractal topography using the Diamond-Square algorithm.</p>
<p>The fractal surface is created on the downscaled grid (<cite>gridlow</cite>)
with roughness determined by the Hurst exponent derived from the
fractal dimension parameter <cite>fr_Df</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zfr_cropped</strong> – 2D array representing the fractal elevation field (unitless or in km
depending on scaling). Cropped to match the low-resolution grid size.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray, shape (gridlow.nx, gridlow.ny)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_rv_dampedsine">
<span class="sig-name descname"><span class="pre">model_rv_dampedsine</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_rv_dampedsine" title="Link to this definition"></a></dt>
<dd><p>Generate river valley topography using a damped sine function along the x-axis.</p>
<p>Each river is modeled with an exponentially decaying sinusoidal profile
in the north-south direction and a linear slope along the west-east direction.
River depth is blended with the existing topography using a scaling factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zrv</strong> – 2D array representing the elevation adjustments for all river valleys.
Values are additive to the existing low-resolution topography.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray, shape (gridlow.nx, gridlow.ny)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_th_ellipsoid">
<span class="sig-name descname"><span class="pre">model_th_ellipsoid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_th_ellipsoid" title="Link to this definition"></a></dt>
<dd><p>Generate a topography perturbation due to earthquake fault segments using ellipsoidal shapes.</p>
<p>Each fault segment is represented as a 3D ellipsoid based on its geometry
(length, width, strike, dip) and mechanical parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zth</strong> – 2D array representing the additional topography induced by
all earthquake fault segments. Values are added to the existing
topography during intrusion/extrusion.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray, shape (gridlow.nx, gridlow.ny)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_vo_cone">
<span class="sig-name descname"><span class="pre">model_vo_cone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_vo_cone" title="Link to this definition"></a></dt>
<dd><p>Generate topography perturbations for volcanic eruptions using conical shapes.</p>
<p>Each volcanic eruption source is represented as a truncated cone,
with height and base width defined in the parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zvo</strong> – 2D array of elevation contributions from all volcanic cones.
Values are additive to the existing topography.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray, shape (gridlow.nx, gridlow.ny)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.river_coord">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">river_coord</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.river_coord" title="Link to this definition"></a></dt>
<dd><p>Compute the coordinates and identifiers of rivers using a damped sine model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>river_xi</strong> (<em>ndarray of float</em>) – x-coordinates of river points.</p></li>
<li><p><strong>river_yi</strong> (<em>ndarray of float</em>) – y-coordinates of river points.</p></li>
<li><p><strong>river_zi</strong> (<em>ndarray of float</em>) – Elevation values at river points.</p></li>
<li><p><strong>river_id</strong> (<em>ndarray of int</em>) – Identifier for each river segment.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.slope">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">slope</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.slope" title="Link to this definition"></a></dt>
<dd><p>Compute the slope of the topography in degrees.</p>
<p>Uses a 3x3 kernel finite-difference method to estimate gradients
of the elevation field <cite>z(x, y)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>slope</strong> – 2D array of slope values in degrees at each grid point.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray of float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvLayer_urbLand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">natLand</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate an urban land use environmental layer.</p>
<p>This model combines:
- The SLEUTH city growth cellular automaton (CA), based on Clarke et al. (1997); Candau (2002)
- A road network growth CA, based on Koenig &amp; Bauriedel (2009)
- Land use state transformation methods, based on White et al. (1997)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>natLand</strong> (<a class="reference internal" href="#GenMR.environment.EnvLayer_natLand" title="GenMR.environment.EnvLayer_natLand"><em>EnvLayer_natLand</em></a>) – Natural land layer providing initial land cover, grid, and topography.</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – Dictionary of parameters controlling urban growth and SLEUTH CA behavior.
Keys include:
- city_yr0 : int, initial year of the city
- city_seed : tuple(float, float), coordinates of the initial city center
- SLEUTH_maxslope : float, maximum slope allowed for urban expansion
- SLEUTH_disp : float, dispersion parameter
- SLEUTH_roadg : float, road gravity parameter
- lores_f : int, downscaling factor for grids used in road CA</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.ID">
<span class="sig-name descname"><span class="pre">ID</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.ID" title="Link to this definition"></a></dt>
<dd><p>Layer identifier, here ‘urbLand’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.grid">
<span class="sig-name descname"><span class="pre">grid</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.grid" title="Link to this definition"></a></dt>
<dd><p>The computational grid for the urban layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid">RasterGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.topo">
<span class="sig-name descname"><span class="pre">topo</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.topo" title="Link to this definition"></a></dt>
<dd><p>Topography layer used for slope calculations and urban constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.EnvLayer_topo" title="GenMR.environment.EnvLayer_topo">EnvLayer_topo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.par">
<span class="sig-name descname"><span class="pre">par</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.par" title="Link to this definition"></a></dt>
<dd><p>Parameters controlling urban growth and CA rules (same as input <cite>par</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.S">
<span class="sig-name descname"><span class="pre">S</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.S" title="Link to this definition"></a></dt>
<dd><p>Land use classification grid.
-1: water</p>
<blockquote>
<div><p>0: grassland
1: forest
2: residential
3: industrial
4: commercial</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.year">
<span class="sig-name descname"><span class="pre">year</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.year" title="Link to this definition"></a></dt>
<dd><p>Current simulation year.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.urban_yes">
<span class="sig-name descname"><span class="pre">urban_yes</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.urban_yes" title="Link to this definition"></a></dt>
<dd><p>Boolean mask indicating which forest cells are eligible for urbanization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.disp_val">
<span class="sig-name descname"><span class="pre">disp_val</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.disp_val" title="Link to this definition"></a></dt>
<dd><p>Dispersion value for SLEUTH CA.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.max_roadsearch">
<span class="sig-name descname"><span class="pre">max_roadsearch</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.max_roadsearch" title="Link to this definition"></a></dt>
<dd><p>Maximum search radius for road network growth.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.roadNet">
<span class="sig-name descname"><span class="pre">roadNet</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.roadNet" title="Link to this definition"></a></dt>
<dd><p>Road network sublayer initialized on a coarsened grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork" title="GenMR.environment.EnvObj_roadNetwork">EnvObj_roadNetwork</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.built">
<span class="sig-name descname"><span class="pre">built</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.built" title="Link to this definition"></a></dt>
<dd><p>Boolean/int grid indicating whether a cell has built structures (0: no, 1: yes).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.roads">
<span class="sig-name descname"><span class="pre">roads</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.roads" title="Link to this definition"></a></dt>
<dd><p>Grid indicating presence of roads (0: none, 1: road).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.built_type">
<span class="sig-name descname"><span class="pre">built_type</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.built_type" title="Link to this definition"></a></dt>
<dd><p>Grid indicating type of built-up area:
0: commercial, 1: industry, 2: residential, 3: water, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.built_yr">
<span class="sig-name descname"><span class="pre">built_yr</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.built_yr" title="Link to this definition"></a></dt>
<dd><p>Grid storing the year each cell was built.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<p>Candau JT (2002), Temporal calibration sensitivity of the SLEUTH urban growth model. Master Thesis, University of California Santa Barbara, 130 pp.
Clarke KC, Hoppen S, Gaydos L (1997), A self-modifying cellular automaton model of historical urbanization in the San Francisco Bay area.
Environment and Planning B: Planning and Design, 24, 247-261.
Koenig R, Bauriedel C (2009), Generating settlement structures: a method for urban planning and analysis supported by cellular automata.
Environment and Planning B: Planning and Design, 36, 602-624.
White R, Engelen G, Uljee I (1997), The use of constrained cellular automata for high-resolution modelling of urban land-use dynamics.
Environment and Planning B: Planning and Design, 24, 323-343.</p>
<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.CI_refinery">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CI_refinery</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.CI_refinery" title="Link to this definition"></a></dt>
<dd><p>Identify and construct the critical infrastructure object representing
the main coastal refinery.</p>
<p>This property selects the largest polygon classified as an
<strong>industrial harbor</strong> zone from <a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.industrialZones" title="GenMR.environment.EnvLayer_urbLand.industrialZones"><code class="xref py py-attr docutils literal notranslate"><span class="pre">industrialZones</span></code></a>, and returns a
<a class="reference internal" href="#GenMR.environment.CriticalInfrastructure" title="GenMR.environment.CriticalInfrastructure"><code class="xref py py-class docutils literal notranslate"><span class="pre">CriticalInfrastructure</span></code></a> instance located at its centroid.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An object describing the refinery, including its name, zone type,
polygon geometry, area, centroid coordinates, and distances to
coastline and river.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure" title="GenMR.environment.CriticalInfrastructure">CriticalInfrastructure</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.bldg_roofpitch">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bldg_roofpitch</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.bldg_roofpitch" title="Link to this definition"></a></dt>
<dd><p>Assign a roof pitch type to buildings based on urban land class. Not used yet in damage assessment.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>val</strong> – Array storing roof pitch type for each grid cell:
- ‘H’ : high-pitch roof (residential)
- ‘L’ : low-pitch roof (industrial)
- ‘M’ : medium-pitch roof (commercial)
Cells not built or outside urban areas are <cite>nan</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray(dtype=object, shape=(nx, ny))</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.bldg_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bldg_type</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.bldg_type" title="Link to this definition"></a></dt>
<dd><p>Assign building construction types based on urban land class and probability rules.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>val</strong> – Array storing building types for each grid cell:
- ‘M’ : masonry (residential)
- ‘W’ : wood (residential)
- ‘S’ : steel (industrial)
- ‘RC’: reinforced concrete (commercial)
Cells not built or outside urban areas are <cite>nan</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray(dtype=object, shape=(nx, ny))</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.bldg_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bldg_value</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.bldg_value" title="Link to this definition"></a></dt>
<dd><p>Estimate the replacement/building value for each urban cell according to Huizinga et al. (2017)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>val</strong> – Array of building values (USD) per grid cell based on:
- Residential (S==2)
- Industrial (S==3)
- Commercial (S==4)
Computed as: c1 * (GDP_percapita_USD)**c2 * (cell_area_m2)
Cells not built or outside urban areas are <cite>nan</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray(dtype=float, shape=(nx, ny))</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>Huizinga J, de Moel H, Szewczyk W (2017), Global Flood Depth-Damage Functions. Methodology and the Database with Guidelines.
JRC Technical Reports. EUR 28552 EN.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.calc_Pr_urbanise">
<span class="sig-name descname"><span class="pre">calc_Pr_urbanise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.calc_Pr_urbanise" title="Link to this definition"></a></dt>
<dd><p>Calculate the probability of urbanisation based on local slope using the SLEUTH model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slope</strong> (<em>float</em><em> or </em><em>ndarray</em>) – Local slope [degrees] at a grid cell or array of slopes.</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – <p>Dictionary of SLEUTH parameters:
- ‘SLEUTH_maxslope’ : float</p>
<blockquote>
<div><p>Maximum slope that can be urbanized [degrees].</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>’SLEUTH_slope’<span class="classifier">float</span></dt><dd><p>Slope influence coefficient [%].</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pr</strong> – Probability of urbanisation for the given slope(s), in the range [0, 1].
Returns 0 if slope exceeds ‘SLEUTH_maxslope’.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.get_S_urban">
<span class="sig-name descname"><span class="pre">get_S_urban</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">built</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">built_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.get_S_urban" title="Link to this definition"></a></dt>
<dd><p>Classify built land-use states using the White et al. (1997) land-use
transition model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>built</strong> (<em>ndarray</em><em> of </em><em>shape</em><em> (</em><em>nx</em><em>, </em><em>ny</em><em>)</em>) – Binary grid where 1 indicates a built cell and 0 indicates
non-built.</p></li>
<li><p><strong>built_type</strong> (<em>ndarray</em><em> of </em><em>shape</em><em> (</em><em>nx</em><em>, </em><em>ny</em><em>)</em>) – <p>Integer grid encoding the preliminary building type:
-1 : unclassified</p>
<blockquote>
<div><p>0 : commercial
1 : industry
2 : housing
3 : water
4 : road</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>built_type</strong> – Updated building type grid following land-use transitions from
White et al. (1997).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of shape (nx, ny)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.get_d4mkd">
<span class="sig-name descname"><span class="pre">get_d4mkd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_test</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.get_d4mkd" title="Link to this definition"></a></dt>
<dd><p>Return the distance-class indices for a set of test coordinates.</p>
<p>This computes distance classes used in the White et al. (1997) land-use
transition potentials. Each <cite>(i_test[k], j_test[k])</cite> pair is assigned to one
of 18 discrete distance bins based on its Euclidean distance from the
reference cell <cite>(ic, jc)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ic</strong> (<em>int</em>) – Indices of the reference grid cell.</p></li>
<li><p><strong>jc</strong> (<em>int</em>) – Indices of the reference grid cell.</p></li>
<li><p><strong>i_test</strong> (<em>array_like</em>) – Arrays of test cell indices for which distance classes will be computed.
Must be equal-length and indexable.</p></li>
<li><p><strong>j_test</strong> (<em>array_like</em>) – Arrays of test cell indices for which distance classes will be computed.
Must be equal-length and indexable.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>neighbor_d</strong> – Flattened array of distance-class indices in the range <cite>[0, 17]</cite>.
For each test coordinate, the returned value is the index of the
corresponding distance bin.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.get_industrialZones">
<span class="sig-name descname"><span class="pre">get_industrialZones</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.get_industrialZones" title="Link to this definition"></a></dt>
<dd><p>Extract and classify industrial zones from the current land-use grid.</p>
<p>Industrial areas (state <code class="docutils literal notranslate"><span class="pre">3</span></code>) are grouped into connected components using
a von Neumann neighbourhood. Each component is converted into a polygon
via contour extraction, and the resulting polygon is classified based on
proximity to the coastline or river.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>One dictionary per detected industrial zone. Each dictionary contains:
- <code class="docutils literal notranslate"><span class="pre">state</span></code> : str
Always <code class="docutils literal notranslate"><span class="pre">&quot;industrial&quot;</span></code>.
- <code class="docutils literal notranslate"><span class="pre">zone_type</span></code> : str
One of <code class="docutils literal notranslate"><span class="pre">&quot;industrial</span> <span class="pre">harbor&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;riverside</span> <span class="pre">industrial</span> <span class="pre">park&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;inland</span> <span class="pre">industrial</span> <span class="pre">park&quot;</span></code>.
- <code class="docutils literal notranslate"><span class="pre">vertices</span></code> : (N, 2) ndarray
Closed polygon vertex coordinates.
- <code class="docutils literal notranslate"><span class="pre">area</span></code> : float
Polygon area.
- <code class="docutils literal notranslate"><span class="pre">distance_to_coast</span></code> : float
Minimum distance to coastline.
- <code class="docutils literal notranslate"><span class="pre">distance_to_river</span></code> : float
Minimum distance to river.
- <code class="docutils literal notranslate"><span class="pre">closed</span></code> : bool
Always <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list of dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.get_state_built">
<span class="sig-name descname"><span class="pre">get_state_built</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbor_k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbor_d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m_kd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.get_state_built" title="Link to this definition"></a></dt>
<dd><p>Determine the new built-type state based on transition potentials.</p>
<p>Computes the Commercial/Industrial/Housing (C/I/H) transition potentials
following White et al. (1997), using:
- neighbor land-use classes <code class="docutils literal notranslate"><span class="pre">neighbor_k</span></code>
- distance classes <code class="docutils literal notranslate"><span class="pre">neighbor_d</span></code>
- the transition matrix <code class="docutils literal notranslate"><span class="pre">m_kd</span></code> (shape: 3 x 5 x 18)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state0</strong> (<em>int</em>) – Current land-use state of the cell (0=C, 1=I, 2=H, 3=W, 4=R).</p></li>
<li><p><strong>neighbor_k</strong> (<em>ndarray</em><em> of </em><em>int</em>) – Land-use types of neighbors. <code class="docutils literal notranslate"><span class="pre">-1</span></code> marks invalid neighbors.</p></li>
<li><p><strong>neighbor_d</strong> (<em>ndarray</em><em> of </em><em>int</em>) – Distance-class indices of the neighbors (0-17).</p></li>
<li><p><strong>m_kd</strong> (<em>ndarray</em>) – Transition potential matrix of shape (3, 5, 18), as returned by
<a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.transform_landUse" title="GenMR.environment.EnvLayer_urbLand.transform_landUse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform_landUse()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>new_state</strong> – The selected new state among:
- 0 → Commercial
- 1 → Industrial
- 2 → Housing</p>
<p>If no valid neighbors exist, the function returns <code class="docutils literal notranslate"><span class="pre">state0</span></code>.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.industrialZones">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">industrialZones</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.industrialZones" title="Link to this definition"></a></dt>
<dd><p>Cached version of industrial zones.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.roadNet_coord">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">roadNet_coord</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.roadNet_coord" title="Link to this definition"></a></dt>
<dd><p>Return the coordinates of the road network nodes and edges for plotting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>node_x</strong> (<em>list of float</em>) – X-coordinates of all road network nodes.</p></li>
<li><p><strong>node_y</strong> (<em>list of float</em>) – Y-coordinates of all road network nodes.</p></li>
<li><p><strong>edge_x</strong> (<em>list of float</em>) – X-coordinates of edges, formatted for plotting line segments
as [x0, x1, None, x0, x1, None, …].</p></li>
<li><p><strong>edge_y</strong> (<em>list of float</em>) – Y-coordinates of edges, formatted similarly to <cite>edge_x</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.transform_landUse">
<span class="sig-name descname"><span class="pre">transform_landUse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.transform_landUse" title="Link to this definition"></a></dt>
<dd><p>Return the land-use transition potential matrix from White et al. (1997).</p>
<p>This function constructs the <strong>mₖd matrix</strong>, which encodes the potentials
for converting existing land-use classes into new urban land-use types
(Commercial, Industrial, Housing) as a function of distance classes.</p>
<p>The formulation follows White et al. (1997), where each entry
<code class="docutils literal notranslate"><span class="pre">m_kd[k,</span> <span class="pre">current_state,</span> <span class="pre">d]</span></code> represents the potential for land of type
<code class="docutils literal notranslate"><span class="pre">current_state</span></code> to transform into target class <code class="docutils literal notranslate"><span class="pre">k</span></code> at distance index <code class="docutils literal notranslate"><span class="pre">d</span></code>.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Number of target land-use classes: <code class="docutils literal notranslate"><span class="pre">nk</span> <span class="pre">=</span> <span class="pre">5</span></code></p></li>
</ul>
<p>(<cite>0 = C</cite>, <cite>1 = I</cite>, <cite>2 = H</cite>, <cite>3 = W</cite>, <cite>4 = R</cite>)
- Number of distance classes: <code class="docutils literal notranslate"><span class="pre">nd</span> <span class="pre">=</span> <span class="pre">18</span></code>
- Only the 3 <em>urbanising</em> target classes have potentials:
<code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">0</span> <span class="pre">→</span> <span class="pre">Commercial</span></code>, <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">→</span> <span class="pre">Industrial</span></code>, <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">2</span> <span class="pre">→</span> <span class="pre">Housing</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p><strong>m_kd</strong> – Transition potential matrix where:
- Axis 0 → target land-use class (C, I, H)
- Axis 1 → current land-use class
- Axis 2 → distance classes (0-17)</p>
<p>Values are integers representing conversion strengths, with
positive values indicating attraction and negative values indicating
repulsion for conversion.</p>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray, shape (3, 5, 18)</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>White R, Engelen G, Uljee I (1997), The use of constrained cellular automata for high-resolution modelling of urban land-use dynamics.
Environment and Planning B: Planning and Design, 24, 323-343.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvObj_roadNetwork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">topo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate a road network on a raster grid using a cellular automaton (CA) approach.
Based on the approach developed by Koenig &amp; Bauriedel (2009).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topo</strong> (<a class="reference internal" href="#GenMR.environment.EnvLayer_topo" title="GenMR.environment.EnvLayer_topo"><em>EnvLayer_topo</em></a>) – Environmental topography layer object containing elevation <cite>z</cite> and slope.</p></li>
<li><p><strong>land</strong> (<a class="reference internal" href="#GenMR.environment.EnvLayer_natLand" title="GenMR.environment.EnvLayer_natLand"><em>EnvLayer_natLand</em></a>) – Natural land classification layer, indicating vegetation, water, and land types.</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – <p>Dictionary of parameters controlling road network generation. Key entries include:
- city_seed : tuple(float, float)</p>
<blockquote>
<div><p>Coordinates of the initial city node (x, y).</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>road_Rmax<span class="classifier">float</span></dt><dd><p>Maximum connection distance in units of grid cell width.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>road_maxslope<span class="classifier">float</span></dt><dd><p>Maximum slope (degrees) allowed for road construction.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.topo">
<span class="sig-name descname"><span class="pre">topo</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.topo" title="Link to this definition"></a></dt>
<dd><p>Copy of the input topography layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.EnvLayer_topo" title="GenMR.environment.EnvLayer_topo">EnvLayer_topo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.land">
<span class="sig-name descname"><span class="pre">land</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.land" title="Link to this definition"></a></dt>
<dd><p>Copy of the input land layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand" title="GenMR.environment.EnvLayer_natLand">EnvLayer_natLand</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.par">
<span class="sig-name descname"><span class="pre">par</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.par" title="Link to this definition"></a></dt>
<dd><p>Copy of the input parameter dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.grid">
<span class="sig-name descname"><span class="pre">grid</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.grid" title="Link to this definition"></a></dt>
<dd><p>Raster grid associated with the topography layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid">RasterGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.net">
<span class="sig-name descname"><span class="pre">net</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.net" title="Link to this definition"></a></dt>
<dd><p>Graph object storing nodes and edges of the road network.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>networkx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.Rmax">
<span class="sig-name descname"><span class="pre">Rmax</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.Rmax" title="Link to this definition"></a></dt>
<dd><p>Maximum Euclidean distance for road connections.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.mask">
<span class="sig-name descname"><span class="pre">mask</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.mask" title="Link to this definition"></a></dt>
<dd><p>Boolean array marking unbuildable locations (e.g., water, steep slopes, buffer areas).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.S">
<span class="sig-name descname"><span class="pre">S</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.S" title="Link to this definition"></a></dt>
<dd><p>Status array of each grid cell: 0 = empty, 1 = node, 2 = node neighbor, 3 = available for node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.id" title="Link to this definition"></a></dt>
<dd><p>Grid cell IDs for nodes (-1 for empty).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.eps">
<span class="sig-name descname"><span class="pre">eps</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.eps" title="Link to this definition"></a></dt>
<dd><p>Random number array for stochastic CA processes, masked for invalid locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork.nodeID">
<span class="sig-name descname"><span class="pre">nodeID</span></span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork.nodeID" title="Link to this definition"></a></dt>
<dd><p>Current maximum node ID in the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<p>Koenig R, Bauriedel C (2009), Generating settlement structures: a method for urban planning and analysis supported by cellular automata.
Environment and Planning B: Planning and Design, 36, 602-624</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.RasterGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">RasterGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.RasterGrid" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Define the coordinates (x, y) of the square pixels of a 2D raster grid.</p>
<p class="rubric">Notes</p>
<p>If <cite>x0</cite>, <cite>xbuffer</cite>, <cite>ybuffer</cite>, and/or <cite>lat_deg</cite> are not provided by the user,
they are set to defaults: <cite>x0 = xmin</cite>, <cite>xbuffer = 0</cite>, <cite>ybuffer = 0</cite>, <cite>lat_deg = 45</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>par</strong> (<em>dict</em>) – Dictionary containing the input parameters:
- w (float)        : Pixel width in km
- xmin (float)     : Minimum abscissa of buffer box
- xmax (float)     : Maximum abscissa of buffer box
- ymin (float)     : Minimum ordinate of buffer box
- ymax (float)     : Maximum ordinate of buffer box
- xbuffer (float, optional) : Buffer width in x direction (default 0)
- ybuffer (float, optional) : Buffer width in y direction (default 0)
- x0 (float, optional)      : Abscissa of reference N-S coastline (default xmin)
- lat_deg (float, optional) : Latitude at center of grid (default 45)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Create a grid</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">RasterGrid</span><span class="p">({</span><span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;xmin&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;xmax&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;ymin&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;ymax&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">x</span>
<span class="go">array([0., 1., 2.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">y</span>
<span class="go">array([0., 1., 2., 3.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">xx</span>
<span class="go">array([[0., 0., 0., 0.],</span>
<span class="go">       [1., 1., 1., 1.],</span>
<span class="go">       [2., 2., 2., 2.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">yy</span>
<span class="go">array([[0., 1., 2., 3.],</span>
<span class="go">       [0., 1., 2., 3.],</span>
<span class="go">       [0., 1., 2., 3.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.calc_FS">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">calc_FS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.calc_FS" title="Link to this definition"></a></dt>
<dd><p>Calculate the Factor of Safety (FS) for slope stability using the SINMAP approach
(Pack et al., 1998).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slope</strong> (<em>numpy.ndarray</em>) – 2D array of slope angles in degrees.</p></li>
<li><p><strong>h</strong> (<em>numpy.ndarray</em>) – 2D array of soil thickness (m).</p></li>
<li><p><strong>w</strong> (<em>numpy.ndarray</em>) – 2D array of wetness ratio (dimensionless, typically between 0 and 1).</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – <p>Dictionary of soil and material parameters:
- Ceff_Pa : float</p>
<blockquote>
<div><p>Effective cohesion (Pa).</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>rho_kg/m3<span class="classifier">float</span></dt><dd><p>Soil density (kg/m³).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>phieff_deg<span class="classifier">float</span></dt><dd><p>Effective friction angle (degrees).</p>
</dd>
</dl>
</li>
<li><p>(optional) Other constants: g_earth, rho_wat used in calculations.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FS</strong> – 2D array of Factor of Safety values for each grid cell.
Values &gt; 1 indicate stability; values &lt; 1 indicate potential failure.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>Pack RT, Tarboton DG, Goodwin CN (1998), The SINMAP Approach to Terrain Stability Mapping.
Proceedings of the 8th Congress of the International Association of Engineering Geology, Vancouver, BC,
Canada, 21 September 1998</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.calc_coord_river_dampedsine">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">calc_coord_river_dampedsine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.calc_coord_river_dampedsine" title="Link to this definition"></a></dt>
<dd><p>Calculate the (x, y, z) coordinates of river channels defined by damped sine waves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid"><em>RasterGrid</em></a>) – Raster grid object containing <cite>x</cite> and <cite>y</cite> coordinates of the spatial domain.</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – <p>Dictionary containing river parameters. Keys include:
- riv_y0 : list or array</p>
<blockquote>
<div><p>Reference y-coordinate of each river source.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>riv_A_km<span class="classifier">list or array</span></dt><dd><p>Amplitude of the damped sine wave (km).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>riv_lbd<span class="classifier">list or array</span></dt><dd><p>Exponential decay coefficient of the wave.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>riv_ome<span class="classifier">list or array</span></dt><dd><p>Angular frequency of the sine wave.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>z</strong> (<em>numpy.ndarray</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Elevation array of shape (nx, ny). If provided, only points with z &gt;= 0 are included.
Default is empty string, which treats all points as land (z = 0).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>river_xi</strong> (<em>numpy.ndarray</em>) – X-coordinates of river points.</p></li>
<li><p><strong>river_yi</strong> (<em>numpy.ndarray</em>) – Y-coordinates of river points.</p></li>
<li><p><strong>river_zi</strong> (<em>numpy.ndarray</em>) – Z-coordinates (elevation) of river points.</p></li>
<li><p><strong>river_id</strong> (<em>numpy.ndarray</em>) – Integer array indicating the river index for each point.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.calc_topo_attributes">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">calc_topo_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.calc_topo_attributes" title="Link to this definition"></a></dt>
<dd><p>Compute slope and aspect of a 2D topography grid using finite differences.</p>
<p>The topography is first converted from meters to kilometers. Gradients
are computed with a 3x3 kernel (central differences) using <cite>np.gradient</cite>.
Slope is expressed in degrees, and aspect is calculated following standard
geographic conventions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<em>ndarray</em><em>, </em><em>shape</em><em> (</em><em>nx</em><em>, </em><em>ny</em><em>)</em>) – 2D array of elevation values in meters.</p></li>
<li><p><strong>w</strong> (<em>float</em>) – Grid spacing (pixel width) in km.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>tan_slope</strong> (<em>ndarray, shape (nx, ny)</em>) – Tangent of the slope at each grid point (unitless).</p></li>
<li><p><strong>aspect</strong> (<em>ndarray, shape (nx, ny)</em>) – Aspect angle at each grid point in degrees, measured clockwise from north.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.downscale_RasterGrid">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">downscale_RasterGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pooling'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.downscale_RasterGrid" title="Link to this definition"></a></dt>
<dd><p>Reduce the resolution of a RasterGrid for specific applications.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">appl</span></code> parameter controls how the downscaling is performed:
- <code class="docutils literal notranslate"><span class="pre">topo</span></code>    : for topography generation (with outer layer) for later upscaling.
- <code class="docutils literal notranslate"><span class="pre">pooling</span></code> : for max- or mean-pooling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid"><em>RasterGrid</em></a>) – Input raster grid.</p></li>
<li><p><strong>factor</strong> (<em>int</em>) – Downscaling factor; the width of each new pixel will be <cite>factor * grid.w</cite>.</p></li>
<li><p><strong>appl</strong> (<em>str</em><em>, </em><em>optional</em>) – Application mode. Options are <code class="docutils literal notranslate"><span class="pre">'topo'</span></code> or <code class="docutils literal notranslate"><span class="pre">'pooling'</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">'pooling'</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Downscaled raster grid with modified pixel width and adjusted boundaries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid">RasterGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.get_FS_state">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">get_FS_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">FS</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.get_FS_state" title="Link to this definition"></a></dt>
<dd><p>Assign a stability code based on the Factor of Safety (FS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>FS</strong> (<em>numpy.ndarray</em>) – Array of Factor of Safety values for each grid cell.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FS_code</strong> – Array of integer stability codes corresponding to FS:
- 0 : stable (FS &gt; 1.5)
- 1 : critical (1 &lt; FS &lt;= 1.5)
- 2 : unstable (FS &lt;= 1)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.plot_EnvLayer_attr">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">plot_EnvLayer_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">envLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hillshading_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.plot_EnvLayer_attr" title="Link to this definition"></a></dt>
<dd><p>Plot a specific attribute of an environmental layer.</p>
<p>This function handles plotting for multiple environmental layers including
topography, soil, natural land, and urban land. Optionally, hillshading
can be applied for topography visualization. Legends are added for categorical
variables, and continuous variables display colorbars.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>envLayer</strong> (<em>object</em>) – Instance of an environmental layer class (e.g., EnvLayer_topo, EnvLayer_soil, EnvLayer_natLand, EnvLayer_urbLand).</p></li>
<li><p><strong>attr</strong> (<em>str</em>) – Name of the attribute to plot. Examples:
- Topography: ‘z’, ‘slope’, ‘aspect’
- Soil: ‘h’, ‘FS’
- Natural/Urban Land: ‘S’, ‘roadNet’, ‘bldg_value’, ‘built_yr’, ‘industrialZones’</p></li>
<li><p><strong>hillshading_z</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – 2D array of elevation values for hillshading overlay. Default is empty string, meaning no hillshading.</p></li>
<li><p><strong>file_ext</strong> (<em>str</em><em>, </em><em>optional</em>) – File extension for saving the figure (e.g., ‘jpg’, ‘pdf’). Default is ‘-’ meaning the figure is not saved.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Displays the plot. Optionally saves the figure if <cite>file_ext</cite> is not ‘-‘.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The attribute argument <cite>attr</cite> must match the string name of the variable inside the <cite>envLayer</cite> object.</p></li>
<li><p>Legends and colormaps are automatically selected based on the layer type and attribute.</p></li>
<li><p>For <cite>urban</cite> layers, industrial zones are plotted as polygons with colors corresponding to their zone type.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.plot_EnvLayers">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">plot_EnvLayers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">envLayers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.plot_EnvLayers" title="Link to this definition"></a></dt>
<dd><p>Plot multiple environmental layers with up to three attributes per layer.</p>
<p>This function creates a multi-panel figure where each row corresponds
to an environmental layer. It supports topography, soil, natural land,
and urban land layers. The function automatically handles legends,
color maps, and optional hillshading for topography.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>envLayers</strong> (<em>list</em><em> of </em><em>objects</em>) – List of environmental layer instances (e.g., EnvLayer_topo, EnvLayer_soil,
EnvLayer_natLand, EnvLayer_urbLand).</p></li>
<li><p><strong>file_ext</strong> (<em>str</em><em>, </em><em>optional</em>) – File extension to save the figure (‘jpg’, ‘pdf’, etc.). Default is ‘-’
which means the figure is not saved.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Displays the multi-panel plot. Optionally saves the figure if <cite>file_ext</cite>
is not ‘-‘.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>For topography layers, the three columns correspond to: altitude <cite>z</cite>, slope, and aspect.</p></li>
<li><p>For soil layers, the three columns correspond to: thickness <cite>h</cite>, factor of safety, and an empty panel.</p></li>
<li><p>For natural land layers, the first column shows land classes (<cite>S</cite>), the other two columns are empty.</p></li>
<li><p>For urban land layers, the three columns correspond to: state <cite>S</cite>, road network, and building value.</p></li>
<li><p>Legends, color maps, and hillshading are applied automatically depending on the layer type.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-GenMR.perils">
<span id="genmr-perils-module"></span><h2>GenMR.perils module<a class="headerlink" href="#module-GenMR.perils" title="Link to this heading"></a></h2>
<section id="genmr-peril-implementation">
<h3>GenMR Peril Implementation<a class="headerlink" href="#genmr-peril-implementation" title="Link to this heading"></a></h3>
<p>This module offers functions for defining and implementing perils within the GenMR digital template.
It provides tools for comprehensive catastrophe risk modeling, including event loss table (ELT) creation,
as well as intensity and loss footprint calculations.</p>
<section id="peril-models-v1-1-1">
<h4>Peril models (v1.1.1)<a class="headerlink" href="#peril-models-v1-1-1" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>AI: Asteroid impact</p></li>
<li><p>EQ: Earthquake</p></li>
<li><p>FF: Fluvial flood</p></li>
<li><p>LS: Landslide</p></li>
<li><p>RS: Rainstorm</p></li>
<li><p>SS: Storm surge</p></li>
<li><p>TC: Tropical cyclone</p></li>
<li><p>VE: Volcanic eruption</p></li>
<li><p>WF: Wildfire</p></li>
<li><p>Ex: Explosion (industrial)</p></li>
</ul>
</section>
<section id="planned-peril-models-v1-1-2">
<h4>Planned peril models (v1.1.2)<a class="headerlink" href="#planned-peril-models-v1-1-2" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Dr: Drought</p></li>
<li><p>HW: Heatwave</p></li>
<li><p>Li: Lightning</p></li>
<li><p>PI: Pest infestation</p></li>
<li><p>To: Tornado</p></li>
<li><p>WS: Windstorm</p></li>
<li><p>BO: Blackout</p></li>
<li><p>BI: Business interruption</p></li>
<li><p>Sf: Public service failure</p></li>
<li><p>SU: Social unrest</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Arnaud Mignan, Mignan Risk Analytics GmbH</p>
</dd>
<dt class="field-even">Version<span class="colon">:</span></dt>
<dd class="field-even"><p>1.1.2</p>
</dd>
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2025-12-17</p>
</dd>
<dt class="field-even">License<span class="colon">:</span></dt>
<dd class="field-even"><p>AGPL-3</p>
</dd>
</dl>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_FF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">CellularAutomaton_FF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I_RS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topoLayer_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_FF" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Cellular Automaton model for flood (FF) propagation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>I_RS</strong> (<em>ndarray</em>) – Rainfall intensity (m) at FF source</p></li>
<li><p><strong>src</strong> (<a class="reference internal" href="#GenMR.perils.Src" title="GenMR.perils.Src"><em>Src</em></a>) – Hazard source object containing flood source parameters and catchment information.</p></li>
<li><p><strong>grid</strong> (<em>class</em>) – Spatial grid object with attributes such as nx, ny, x, y, and cell width.</p></li>
<li><p><strong>topoLayer_z</strong> (<em>ndarray</em>) – Topography elevation field (m) corresponding to the spatial grid.</p></li>
<li><p><strong>movie</strong> (<em>dict</em>) – <dl class="simple">
<dt>Dictionary containing movie settings:</dt><dd><ul>
<li><p>’create’ (bool): whether to save CA frames.</p></li>
<li><p>’path’ (str): folder path to store frames; hardcoded to ‘figs/FF_CA_frames/’.</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_FF.result">
<span class="sig-name descname"><span class="pre">result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_FF.result" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_FF.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_FF.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_FF.write_gif">
<span class="sig-name descname"><span class="pre">write_gif</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_FF.write_gif" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_LS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">CellularAutomaton_LS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">soilLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wetness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_LS" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Cellular Automaton model for landslide (LS) propagation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>soilLayer</strong> (<em>class</em>) – Soil layer object containing topography, soil thickness, and related properties.</p></li>
<li><p><strong>wetness</strong> (<em>ndarray</em>) – Field of soil wetness or saturation across the spatial grid.</p></li>
<li><p><strong>movie</strong> (<em>dict</em>) – <dl class="simple">
<dt>Dictionary containing movie settings:</dt><dd><ul>
<li><p>’create’ (bool): whether to save CA frames.</p></li>
<li><p>’path’ (str): folder path to store frames; hardcoded to ‘figs/LS_CA_frames/’.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>kmax</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of CA iterations; default is 20.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_LS.result">
<span class="sig-name descname"><span class="pre">result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_LS.result" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_LS.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_LS.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_LS.write_gif">
<span class="sig-name descname"><span class="pre">write_gif</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_LS.write_gif" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_WF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">CellularAutomaton_WF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urbLandLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_plot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_WF" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Cellular Automaton model for wildfire (WF) propagation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>class</em>) – Source object containing wildfire parameters, including spread ratio and related settings.</p></li>
<li><p><strong>urbLandLayer</strong> (<em>class</em>) – Urban land layer object containing land-use map, building types, and grid information.</p></li>
<li><p><strong>frame_plot</strong> (<em>bool</em>) – Flag indicating whether to generate CA frame plots during simulation.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_WF.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_WF.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.DynamicHazardFootprintGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">DynamicHazardFootprintGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stochset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soilLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urbLandLayer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.DynamicHazardFootprintGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate dynamical hazard footprints for a given stochastic event set.</p>
<p>This class computes dynamic hazard footprints (e.g., landslides, fluvial floods, wildfires)
over a spatial grid, using stochastic events and environmental layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stochset</strong> (<em>pandas.DataFrame</em>) – Stochastic event set.</p></li>
<li><p><strong>src</strong> (<a class="reference internal" href="#GenMR.perils.Src" title="GenMR.perils.Src"><em>Src</em></a>) – Source object defining peril sources and their characteristics.</p></li>
<li><p><strong>soilLayer</strong> (<em>class</em>) – Environmental layer object representing soil characteristics.</p></li>
<li><p><strong>urbLandLayer</strong> (<em>class</em>) – Environmental layer object representing urban land-use</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.DynamicHazardFootprintGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selected_perils</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_recompute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.DynamicHazardFootprintGenerator.generate" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.DynamicHazardFootprintGenerator.load_WF_CA_footprints">
<span class="sig-name descname"><span class="pre">load_WF_CA_footprints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_WF_CA_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.DynamicHazardFootprintGenerator.load_WF_CA_footprints" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">EventSetGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizeDistr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utils</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.EventSetGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generates stochastic event set based on source and size distribution parameters.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator.src">
<span class="sig-name descname"><span class="pre">src</span></span><a class="headerlink" href="#GenMR.perils.EventSetGenerator.src" title="Link to this definition"></a></dt>
<dd><p>Source object (e.g., instance of <cite>Src</cite>) containing hazard source locations and characteristics.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator.sizeDistr">
<span class="sig-name descname"><span class="pre">sizeDistr</span></span><a class="headerlink" href="#GenMR.perils.EventSetGenerator.sizeDistr" title="Link to this definition"></a></dt>
<dd><p>Size distribution object defining the probability distribution of event magnitudes, volumes, or intensities.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator.utils">
<span class="sig-name descname"><span class="pre">utils</span></span><a class="headerlink" href="#GenMR.perils.EventSetGenerator.utils" title="Link to this definition"></a></dt>
<dd><p>Utility module (e.g., <cite>GenMR_utils</cite>) providing helper functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>module</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator.ev_stoch">
<span class="sig-name descname"><span class="pre">ev_stoch</span></span><a class="headerlink" href="#GenMR.perils.EventSetGenerator.ev_stoch" title="Link to this definition"></a></dt>
<dd><p>DataFrame storing stochastic event realizations with columns:
- ‘ID’: unique event identifier
- ‘srcID’: source identifier
- ‘evID’: event identifier
- ‘S’: event size
- ‘lbd’: rate or frequency</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator.ev_char">
<span class="sig-name descname"><span class="pre">ev_char</span></span><a class="headerlink" href="#GenMR.perils.EventSetGenerator.ev_char" title="Link to this definition"></a></dt>
<dd><p>DataFrame storing event characteristics with columns:
- ‘evID’: event identifier
- ‘x’: x-coordinate of event
- ‘y’: y-coordinate of event</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.EventSetGenerator.generate" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">HazardFootprintGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stochset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evchar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topo_z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate hazard footprints for a given stochastic event set.</p>
<p>This class takes a stochastic set of hazard events, their characteristics, the hazard source
information, and the topography to generate hazard footprints (e.g., spatial distribution
of hazard intensity). The footprints are stored in a catalog for further analysis or visualization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stochset</strong> (<em>pandas.DataFrame</em>) – DataFrame containing the stochastic event set with event IDs, source IDs, event sizes,
and occurrence rates.</p></li>
<li><p><strong>evchar</strong> (<em>pandas.DataFrame</em>) – DataFrame with event characteristics, including event coordinates and any other metadata.</p></li>
<li><p><strong>src</strong> (<em>object</em>) – Source object containing hazard source information (e.g., locations, type, geometry).</p></li>
<li><p><strong>topo_z</strong> (<em>ndarray</em>) – 2D array representing the topographic elevation grid (used for footprint modeling).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.add_v_forward">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_v_forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vtan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.add_v_forward" title="Link to this definition"></a></dt>
<dd><p>Combine forward and tangential wind components to compute total wind field.</p>
<p>This function calculates the total wind speed and its x and y components at each
grid point, accounting for the forward motion of the storm along its track and
the tangential wind profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vf</strong> (<em>float</em>) – Forward speed of the storm (m/s).</p></li>
<li><p><strong>vtan</strong> (<em>ndarray</em>) – Tangential wind speed array (m/s) at each grid point relative to storm center.</p></li>
<li><p><strong>track_x</strong> (<em>ndarray</em>) – X-coordinates of the storm track (km).</p></li>
<li><p><strong>track_y</strong> (<em>ndarray</em>) – Y-coordinates of the storm track (km).</p></li>
<li><p><strong>grid</strong> (<em>object</em>) – Grid object containing <cite>xx</cite> and <cite>yy</cite> 2D arrays for spatial coordinates.</p></li>
<li><p><strong>t_i</strong> (<em>int</em>) – Current time step index along the storm track.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>vtot</strong> (<em>ndarray</em>) – Total wind speed at each grid point (m/s).</p></li>
<li><p><strong>vtot_x</strong> (<em>ndarray</em>) – X-component of total wind speed (m/s).</p></li>
<li><p><strong>vtot_y</strong> (<em>ndarray</em>) – Y-component of total wind speed (m/s).</p></li>
<li><p><strong>vtan_x</strong> (<em>ndarray</em>) – X-component of tangential wind (m/s).</p></li>
<li><p><strong>vtan_y</strong> (<em>ndarray</em>) – Y-component of tangential wind (m/s).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_I_ash_m">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_I_ash_m</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_I_ash_m" title="Link to this definition"></a></dt>
<dd><p>Calculate volcanic ash deposit thickness at a distance from the eruption.</p>
<p>The model assumes an exponential decay of deposit thickness with distance,
calibrated from historical eruptions (e.g., Mt. St. Helens 1980).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>float</em>) – Erupted volume in km³.</p></li>
<li><p><strong>r</strong> (<em>float</em>) – Distance from the volcanic vent (km).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Ash deposit thickness (m).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_I_blast_kPa">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_I_blast_kPa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_I_blast_kPa" title="Link to this definition"></a></dt>
<dd><p>Calculate blast overpressure in kPa from an explosive event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>float</em>) – Explosive yield in kilotons TNT equivalent.</p></li>
<li><p><strong>r</strong> (<em>float</em>) – Distance from the explosion center (km).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Blast overpressure (kPa).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_I_shaking_ms2">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_I_shaking_ms2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_I_shaking_ms2" title="Link to this definition"></a></dt>
<dd><p>Calculate peak ground acceleration (PGA) in m/s² from earthquake magnitude and distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>float</em>) – Earthquake magnitude.</p></li>
<li><p><strong>r</strong> (<em>float</em>) – Distance from the source to the site (km).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Peak ground acceleration (m/s²).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_I_v_ms">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_I_v_ms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_I_v_ms" title="Link to this definition"></a></dt>
<dd><p>Calculate the maximum wind speed (m/s) of a tropical cyclone at a given distance.</p>
<p>This model accounts for atmospheric density, Coriolis effect, and storm parameters
following the approach in Mignan (2024:fig. 2.19).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>float</em>) – Windspeed (m/s) at point along track.</p></li>
<li><p><strong>r</strong> (<em>float</em>) – Distance from the storm center (km).</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – Dictionary of cyclone parameters, including:
- ‘lat_deg’ : Latitude in degrees
- ‘pn_mbar’ : Ambient pressure in mbar
- ‘B_Holland’ : Holland B parameter for wind profile</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Maximum wind speed in meters per second (m/s) at distance r from the storm center.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_S_track">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_S_track</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stochset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Track_coord</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_S_track" title="Link to this definition"></a></dt>
<dd><p>Calculate along-track hazard intensity for tropical cyclones (TC)
accounting for decay over land after coastal landfall.</p>
<p>The method computes the intensity of each TC event along its track,
reducing the intensity after landfall based on distance from coast.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stochset</strong> (<em>pandas.DataFrame</em>) – Stochastic event set containing columns [‘ID’, ‘evID’, ‘S’, …].</p></li>
<li><p><strong>src</strong> (<em>object</em>) – Source object containing storm characteristics, including <cite>SS_char</cite>
(storm source coordinates) and <cite>par</cite> parameters.</p></li>
<li><p><strong>Track_coord</strong> (<em>pandas.DataFrame</em>) – DataFrame containing storm track coordinates with columns [‘evID’, ‘x’, ‘y’].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>S_alongtrack</strong> – Dictionary mapping each TC event ID to an array of along-track
maximum intensity values (same length as track points).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.generate" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.get_TC_timeshot">
<span class="sig-name descname"><span class="pre">get_TC_timeshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.get_TC_timeshot" title="Link to this definition"></a></dt>
<dd><p>Compute a single time-step (snapshot) of a tropical cyclone (TC) event.</p>
<p>This method calculates both the symmetric and asymmetric wind fields
at time index <cite>t</cite> along the cyclone track, as well as the tangential
and total wind velocity components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evID</strong> (<em>str</em>) – Event ID of the tropical cyclone.</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Time index along the cyclone track (0 ≤ t &lt; npt), where npt is
the number of points along the track.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>I_sym_t<span class="classifier">ndarray</span></dt><dd><p>Symmetric wind field at time step <cite>t</cite> (storm without motion effects).</p>
</dd>
<dt>I_asym_t<span class="classifier">ndarray</span></dt><dd><p>Asymmetric wind field at time step <cite>t</cite> (storm including motion effects).</p>
</dd>
<dt>vtot_x<span class="classifier">ndarray</span></dt><dd><p>Total wind velocity component along x-axis.</p>
</dd>
<dt>vtot_y<span class="classifier">ndarray</span></dt><dd><p>Total wind velocity component along y-axis.</p>
</dd>
<dt>vtan_x<span class="classifier">ndarray</span></dt><dd><p>Tangential velocity component along x-axis.</p>
</dd>
<dt>vtan_y<span class="classifier">ndarray</span></dt><dd><p>Tangential velocity component along y-axis.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.model_SS_Bathtub">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model_SS_Bathtub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I_trigger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topo_z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.model_SS_Bathtub" title="Link to this definition"></a></dt>
<dd><p>Simple Bathtub model to estimate storm surge (SS) height over a grid.</p>
<p>This method computes the storm surge height at each grid cell
using a “bathtub” approach: starting from the coastline, the surge
height is reduced inland according to topography.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>I_trigger</strong> (<em>ndarray</em><em>, </em><em>shape</em><em> (</em><em>nx</em><em>, </em><em>ny</em><em>)</em>) – Grid of triggering intensity (windspeed, m/s) along
the coastline.</p></li>
<li><p><strong>src</strong> (<em>object</em>) – Source object containing:
- <cite>grid</cite>: grid coordinates with <cite>nx</cite>, <cite>ny</cite>, <cite>x</cite>, <cite>y</cite>
- <cite>SS_char</cite>: storm surge source coordinates
- <cite>par[‘SS’][‘bathy’]</cite>: bathymetry decay parameter</p></li>
<li><p><strong>topo_z</strong> (<em>ndarray</em><em>, </em><em>shape</em><em> (</em><em>nx</em><em>, </em><em>ny</em><em>)</em>) – Elevation grid of the terrain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>I_SS</strong> – Storm surge height (m) at each grid cell.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape (nx, ny)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.RiskFootprintGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">RiskFootprintGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">catalog_hazFootprints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urbLandLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evtable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.RiskFootprintGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate risk footprints (damage and loss) for a set of hazard footprints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>catalog_hazFootprints</strong> (<em>dict</em>) – Dictionary of hazard footprints with event IDs as keys and 2D arrays as values.</p></li>
<li><p><strong>urbLandLayer</strong> (<em>object</em>) – Urban land layer containing building values (attribute <cite>bldg_value</cite>).</p></li>
<li><p><strong>evtable</strong> (<em>pandas.DataFrame</em>) – Event table with at least a column ‘evID’; a ‘loss’ column will be added.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.Src">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">Src</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.Src" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Define the characteristics of the peril sources.</p>
<p>This class stores the parameters and derived attributes of different peril sources</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<em>dict</em>) – Dictionary containing the peril source parameters, with nested keys.</p></li>
<li><p><strong>grid</strong> (<a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid"><em>RasterGrid</em></a>) – Instance of RasterGrid class defining the computational domain.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.AI_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AI_char</span></span><a class="headerlink" href="#GenMR.perils.Src.AI_char" title="Link to this definition"></a></dt>
<dd><p>Generate the characteristics of asteroid impact (AI) sources, if defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing:
- ‘srcID’ (list of str): Unique identifiers for each asteroid impact source.
- ‘x’ (ndarray): x-coordinates of asteroid impact sources.
- ‘y’ (ndarray): y-coordinates of asteroid impact sources.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.EQ_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EQ_char</span></span><a class="headerlink" href="#GenMR.perils.Src.EQ_char" title="Link to this definition"></a></dt>
<dd><p>Return the characteristics of earthquake (EQ) sources.</p>
<p>This property calls the helper function <cite>_get_char_srcEQline</cite> to compute
the coordinates and identifiers of EQ sources if they exist. Results
are cached to avoid repeated computation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with keys:
- ‘srcID’ (list of str): Unique source identifiers for each earthquake.
- ‘x’ (ndarray): x-coordinates of the source points.
- ‘y’ (ndarray): y-coordinates of the source points.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.FF_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FF_char</span></span><a class="headerlink" href="#GenMR.perils.Src.FF_char" title="Link to this definition"></a></dt>
<dd><p>Generate characteristics of flood (FF) sources.</p>
<p>This property returns the coordinates and identifiers of riverine flood sources
defined in the model parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing:
- ‘srcID’ (ndarray of str): Unique identifiers for each flood source.
- ‘x’ (ndarray of float): x-coordinates of the flood source points.
- ‘y’ (ndarray of float): y-coordinates of the flood source points.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.TC_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TC_char</span></span><a class="headerlink" href="#GenMR.perils.Src.TC_char" title="Link to this definition"></a></dt>
<dd><p>Generate characteristics of tropical cyclone (TC) sources.</p>
<p>This property returns the coordinates and identifiers of tropical cyclone tracks
defined in the model parameters. The track points are generated stochastically
according to the number of cyclones (<cite>N</cite>), number of points per track (<cite>npt</cite>),
maximum deviation (<cite>max_dev</cite>), and random seed (<cite>rdm_seed</cite>). Each TC source is
assigned a unique identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing:
- ‘srcID’ (ndarray of str): Unique identifiers for each tropical cyclone source.
- ‘x’ (ndarray of float): x-coordinates of the TC track points.
- ‘y’ (ndarray of float): y-coordinates of the TC track points.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.VE_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VE_char</span></span><a class="headerlink" href="#GenMR.perils.Src.VE_char" title="Link to this definition"></a></dt>
<dd><p>Retrieve the characteristics of volcanic eruption (VE) sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing:
- ‘srcID’ (ndarray of str): Unique identifiers for each volcanic eruption source.
- ‘x’ (ndarray of float): x-coordinates of the flood source points.
- ‘y’ (ndarray of float): y-coordinates of the flood source points.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_EQ_length2magnitude">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_EQ_length2magnitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">L</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_EQ_length2magnitude" title="Link to this definition"></a></dt>
<dd><p>Convert earthquake rupture length to moment magnitude.</p>
<p>Given the rupture length of an earthquake fault (km), this
function calculates the corresponding earthquake magnitude using the
empirical relation from Wells and Coppersmith (1994:fig. 2.6b).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>L</strong> (<em>float</em><em> or </em><em>ndarray</em>) – Earthquake rupture length in kilometers.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>M</strong> – Calculated moment magnitude, rounded to one decimal place.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_EQ_magnitude2length">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_EQ_magnitude2length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_EQ_magnitude2length" title="Link to this definition"></a></dt>
<dd><p>Convert earthquake magnitude to rupture length.</p>
<p>Given a moment magnitude, this function calculates the expected
rupture length (in kilometers) using the empirical relation from
Wells and Coppersmith (1994:fig. 2.6b). Useful for floating rupture
computations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>M</strong> (<em>float</em><em> or </em><em>ndarray</em>) – Earthquake moment magnitude.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>L</strong> – Estimated rupture length in kilometers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_Lbd_GPD">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_Lbd_GPD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Lbdmin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_Lbd_GPD" title="Link to this definition"></a></dt>
<dd><p>Calculate the cumulative rate of events following a Generalised Pareto Distribution (GPD).</p>
<p>This corresponds to Mignan (2024:eq. 2.50), where the cumulative occurrence rate <cite>Lbd</cite> is
derived from the GPD parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>float</em><em> or </em><em>ndarray</em>) – Event size (e.g., magnitude, intensity, or volume).</p></li>
<li><p><strong>mu</strong> (<em>float</em>) – Threshold parameter (location) of the GPD.</p></li>
<li><p><strong>xi</strong> (<em>float</em>) – Shape parameter of the GPD.</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – Scale parameter of the GPD.</p></li>
<li><p><strong>Lbdmin</strong> (<em>float</em>) – Minimum cumulative rate (normalization factor).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Lbd</strong> – Cumulative rate corresponding to event size <cite>S</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_Lbd_exponential">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_Lbd_exponential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_Lbd_exponential" title="Link to this definition"></a></dt>
<dd><p>Calculate the cumulative rate of events following an exponential law.</p>
<p>This corresponds to Mignan (2024:eq. 2.39), where the cumulative occurrence rate
<cite>Lbd</cite> decreases exponentially with event size <cite>S</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>float</em><em> or </em><em>ndarray</em>) – Event size (e.g., magnitude, intensity, or volume).</p></li>
<li><p><strong>a</strong> (<em>float</em>) – Intercept parameter in the exponential relation (log10 scale).</p></li>
<li><p><strong>b</strong> (<em>float</em>) – Exponential decay parameter controlling how fast the rate decreases with <cite>S</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Lbd</strong> – Cumulative rate corresponding to event size <cite>S</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_Lbd_powerlaw">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_Lbd_powerlaw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_Lbd_powerlaw" title="Link to this definition"></a></dt>
<dd><p>Calculate the cumulative rate of events following a power-law distribution.</p>
<p>This corresponds to Mignan (2024:eq. 2.38), where the cumulative occurrence rate
<cite>Lbd</cite> is a function of event size <cite>S</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>float</em><em> or </em><em>ndarray</em>) – Event size (e.g., magnitude, intensity, or volume).</p></li>
<li><p><strong>a</strong> (<em>float</em>) – Intercept parameter in the power-law relation (log10 scale).</p></li>
<li><p><strong>b</strong> (<em>float</em>) – Exponent parameter controlling the slope of the power-law in log10 scale.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Lbd</strong> – Cumulative rate corresponding to event size <cite>S</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.get_peril_evID">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">get_peril_evID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evIDs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.get_peril_evID" title="Link to this definition"></a></dt>
<dd><p>Extract the peril identifiers from an array of event identifiers.</p>
<p>Each event identifier is assumed to be a string where the first two
characters correspond to the peril type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>evIDs</strong> (<em>array-like</em><em> of </em><em>str</em>) – Array or list of event identifiers.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of peril identifiers corresponding to each event ID.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.incrementing">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">incrementing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xbin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.incrementing" title="Link to this definition"></a></dt>
<dd><p>Generate an array of evenly spaced values within a specified interval.</p>
<p>The spacing can be either linear or logarithmic, depending on the <cite>scale</cite> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xmin</strong> (<em>float</em>) – The minimum value of the interval.</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – The maximum value of the interval.</p></li>
<li><p><strong>xbin</strong> (<em>float</em>) – The increment (step size) between consecutive values.
For logarithmic scale, this represents the step in log10 space.</p></li>
<li><p><strong>scale</strong> (<em>{'linear'</em><em>, </em><em>'log'}</em>) – Type of spacing. ‘linear’ for evenly spaced linear values,
‘log’ for logarithmically spaced values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xi</strong> – Array of values from <cite>xmin</cite> to <cite>xmax</cite> spaced according to <cite>xbin</cite> and <cite>scale</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.plot_hazFootprints">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">plot_hazFootprints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">catalog_hazFootprints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topoLayer_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_Imax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nstoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.plot_hazFootprints" title="Link to this definition"></a></dt>
<dd><p>Plot stochastic hazard footprints for multiple events and perils on a spatial grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>catalog_hazFootprints</strong> (<em>dict</em>) – Dictionary of hazard footprints keyed by event ID. Each value is a 2D array of intensities.</p></li>
<li><p><strong>grid</strong> (<em>object</em>) – Grid object with attributes <cite>xx</cite>, <cite>yy</cite>, <cite>xmin</cite>, <cite>xmax</cite>, <cite>ymin</cite>, <cite>ymax</cite>.</p></li>
<li><p><strong>topoLayer_z</strong> (<em>ndarray</em>) – 2D array of topographic elevations for hillshading.</p></li>
<li><p><strong>plot_Imax</strong> (<em>dict</em>) – Dictionary of maximum intensity values for each peril (keyed by peril code).</p></li>
<li><p><strong>nstoch</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of stochastic realizations to plot per peril (default 5).</p></li>
<li><p><strong>file_ext</strong> (<em>str</em><em>, </em><em>optional</em>) – File extension to save figure (e.g., ‘png’, ‘pdf’). If ‘-’, figure is not saved (default ‘-‘).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.plot_src">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">plot_src</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hillshading_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.plot_src" title="Link to this definition"></a></dt>
<dd><p>Plot the spatial locations of peril sources on a 2D grid.</p>
<p>Optionally overlays hillshading of the terrain and saves the figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>object</em>) – An instance of the <cite>Src</cite> class containing peril source definitions and grid.</p></li>
<li><p><strong>hillshading_z</strong> (<em>ndarray</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – 2D array of topographic elevation values for hillshading (default is ‘’).</p></li>
<li><p><strong>file_ext</strong> (<em>str</em><em>, </em><em>optional</em>) – If not ‘-’, saves the figure with this file extension (e.g., ‘jpg’, ‘pdf’).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Displays the plot and optionally saves it to file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.plot_vulnFunctions">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">plot_vulnFunctions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.plot_vulnFunctions" title="Link to this definition"></a></dt>
<dd><p>Plot vulnerability (MDR) functions for different perils.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.vuln_f">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">vuln_f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peril</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.vuln_f" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean damage ratio (MDR) given hazard intensity for different perils.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>I</strong> (<em>float</em><em> or </em><em>ndarray</em>) – Hazard intensity, interpreted according to the peril type:
- ‘AI’ or ‘Ex’: overpressure (kPa)
- ‘EQ’: peak ground acceleration (m/s²)
- ‘FF’ or ‘SS’: inundation depth (m)
- ‘LS’: landslide thickness (m)
- ‘VE’: volcanic ash thickness (m)
- ‘TC’, ‘To’, ‘WS’: wind speed (m/s)
- ‘WF’: wildfire state (1 for burnt, 0 otherwise)</p></li>
<li><p><strong>peril</strong> (<em>str</em>) – Type of peril (‘AI’, ‘Ex’, ‘EQ’, ‘FF’, ‘SS’, ‘LS’, ‘VE’, ‘TC’, ‘To’, ‘WS’, ‘WF’).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>MDR</strong> – Mean damage ratio corresponding to the given hazard intensity and peril.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-GenMR.utils">
<span id="genmr-utils-module"></span><h2>GenMR.utils module<a class="headerlink" href="#module-GenMR.utils" title="Link to this heading"></a></h2>
<section id="genmr-utility-functions">
<h3>GenMR Utility Functions<a class="headerlink" href="#genmr-utility-functions" title="Link to this heading"></a></h3>
<p>This module provides miscellaneous utility functions for input/output management,
computing, and plotting within the GenMR package. These functions support
core GenMR workflows by streamlining data handling, computation, and visualisation tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Arnaud Mignan, Mignan Risk Analytics GmbH</p>
</dd>
<dt class="field-even">Version<span class="colon">:</span></dt>
<dd class="field-even"><p>1.1.2</p>
</dd>
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2025-12-17</p>
</dd>
<dt class="field-even">License<span class="colon">:</span></dt>
<dd class="field-even"><p>AGPL-3</p>
</dd>
</dl>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.calc_EP">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">calc_EP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lbd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.calc_EP" title="Link to this definition"></a></dt>
<dd><p>Calculate the cumulative event frequency and the exceedance probability
for a series of event rates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>lbd</strong> (<em>array-like</em>) – An array of event rates (lambda) for individual events.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>EFi</strong> (<em>numpy.ndarray</em>) – Cumulative event frequencies, computed as the cumulative sum of the event rates.</p></li>
<li><p><strong>EPi</strong> (<em>numpy.ndarray</em>) – Exceedance probabilities corresponding to each cumulative frequency, calculated as
<cite>1 - exp(-EFi)</cite> (following Mignan, 2024, eq. 3.22).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.calc_riskmetrics_fromELT">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">calc_riskmetrics_fromELT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ELT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_VAR</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.calc_riskmetrics_fromELT" title="Link to this definition"></a></dt>
<dd><p>Calculate key risk metrics from an Event Loss Table (ELT), including
Average Annual Loss (AAL), Value-at-Risk (VaR), and Tail Value-at-Risk (TVaR).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ELT</strong> (<em>pandas.DataFrame</em>) – Event Loss Table containing at least the following columns:
- ‘L’   : Loss for each event
- ‘lbd’ : Event rate (lambda) for each event</p></li>
<li><p><strong>q_VAR</strong> (<em>float</em>) – Confidence level for Value-at-Risk (e.g., 0.95 for 95% VaR)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>ELT</strong> (<em>pandas.DataFrame</em>) – Input ELT augmented with cumulative event frequency (‘EF’) and
exceedance probability (‘EP’) columns.</p></li>
<li><p><strong>AAL</strong> (<em>float</em>) – Average Annual Loss, computed as the sum of lbd * L (Mignan, 2024:eq. 3.18).</p></li>
<li><p><strong>VaRq_interp</strong> (<em>float</em>) – Interpolated Value-at-Risk at the given confidence level.</p></li>
<li><p><strong>TVaRq_interp</strong> (<em>float</em>) – Interpolated Tail Value-at-Risk at the given confidence level.</p></li>
<li><p><strong>VaRq</strong> (<em>float</em>) – Discrete VaR from the ELT.</p></li>
<li><p><strong>TVaRq</strong> (<em>float</em>) – Discrete TVaR from the ELT.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.cmap_peril">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">cmap_peril</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peril</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.cmap_peril" title="Link to this definition"></a></dt>
<dd><p>Create a two-color matplotlib colormap transitioning from white to the
color associated with a given peril.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>peril</strong> (<em>str</em>) – The type of peril for which to generate the colormap.
Passed to <cite>col_peril(peril)</cite> to get the corresponding color.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>cmap_peril</strong> – A two-color colormap transitioning from white to the color representing the peril.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib.colors.LinearSegmentedColormap</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.col_peril">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">col_peril</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peril</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.col_peril" title="Link to this definition"></a></dt>
<dd><p>Return a color code corresponding to a given point-source or natural peril.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>peril</strong> (<em>str</em>) – The type of peril. Options include:
- ‘AI’  : Asteroid impact
- ‘EQ’  : Earthquake
- ‘LS’  : Landslide
- ‘VE’  : Volcanic eruption
- ‘FF’  : Fluvial flood
- ‘SS’  : Storm surge
- ‘RS’  : Rainstorm
- ‘TC’  : Tropical cyclone
- ‘WS’  : Windstorm
- ‘Ex’  : Explosion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>col</strong> – The hexadecimal color code assigned to the peril:
- ‘#663399’ : ‘AI’ (Rebeccapurple)
- ‘#CD853F’ : ‘EQ’, ‘LS’, ‘VE’ (Peru)
- ‘#20B2AA’ : ‘FF’, ‘SS’ (MediumSeaGreen)
- ‘#4169E1’ : ‘RS’, ‘TC’, ‘WS’ (RoyalBlue)
- ‘#FF8C00’ : ‘Ex’ (Safety Orange)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.col_state_h">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">col_state_h</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.col_state_h" title="Link to this definition"></a></dt>
<dd><p>Assign integer state codes to a height matrix based on erosion and
landslide conditions relative to a reference height.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>numpy.ndarray</em>) – The height matrix.</p></li>
<li><p><strong>h0</strong> (<em>float</em>) – The reference height for scaling the erosion/landslide thresholds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>h_plot</strong> – An array of the same shape as <cite>h</cite>, where each element is an integer
code representing the state:</p>
<ul class="simple">
<li><p>0 : erosion +++ (scarp)</p></li>
<li><p>1 : intact</p></li>
<li><p>2 : erosion ++</p></li>
<li><p>3 : erosion +</p></li>
<li><p>4 : landslide +</p></li>
<li><p>5 : landslide ++</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.fetch_A0">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">fetch_A0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.fetch_A0" title="Link to this definition"></a></dt>
<dd><p>Fetch the predefined area value corresponding to a specified geographical level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>level</strong> (<em>str</em>) – The geographical level. Options include:
- ‘global’
- ‘CONUS’
- ‘IT’
- ‘JP’
- ‘US_CA’
- ‘US_FL’</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>A0</strong> – The area value associated with the specified level.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.get_ind_aspect2moore">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">get_ind_aspect2moore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind_old</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.get_ind_aspect2moore" title="Link to this definition"></a></dt>
<dd><p>Convert neighborhood indices defined by an aspect-angle system into
standard Moore neighborhood indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ind_old</strong> (<em>int</em><em> or </em><em>array-like</em>) – Index or array of indices derived from the aspect-angle convention (0-8),
where orientation is computed as <cite>np.round(aspect * 8 / 360).astype(int)</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ind_new</strong> – The corresponding Moore neighborhood indices, following the ordering
used in <cite>get_neighborhood_ind()</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or numpy.ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The aspect-angle system assigns indices as follows:</p>
<blockquote>
<div><p>7 6 5
0   4
1 2 3</p>
</div></blockquote>
<p>Moore neighborhood indices (used in <cite>get_neighborhood_ind</cite>) follow this pattern:</p>
<blockquote>
<div><p>0 1 2
3   4
5 6 7</p>
</div></blockquote>
<p>The conversion maps aspect-angle indices to Moore indices.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.get_neighborhood_ind">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">get_neighborhood_ind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Moore'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.get_neighborhood_ind" title="Link to this definition"></a></dt>
<dd><p>Get the indices of neighboring cells around a focal cell in a 2D grid,
based on a specified neighborhood type and radius of vision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – Row index of the focal cell.</p></li>
<li><p><strong>j</strong> (<em>int</em>) – Column index of the focal cell.</p></li>
<li><p><strong>grid_shape</strong> (<em>tuple</em><em> of </em><em>int</em>) – The shape of the 2D grid as (nx, ny).</p></li>
<li><p><strong>r_v</strong> (<em>int</em>) – The radius of vision (neighborhood radius).</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The neighborhood definition (default is ‘Moore’). Options are:
- ‘Moore’          : all cells within a square radius <cite>r_v</cite>, excluding the center.
- ‘vonNeumann’     : cross-shaped neighborhood with Manhattan distance <cite>r_v</cite>.
- ‘White_etal1997’ : circular neighborhood based on Euclidean distance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>neigh_ind</strong> – A list containing two arrays:
- neigh_ind[0] : row indices of neighboring cells.
- neigh_ind[1] : column indices of neighboring cells.
Both arrays exclude the focal cell <cite>(i, j)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.get_net_coord">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">get_net_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">net</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.get_net_coord" title="Link to this definition"></a></dt>
<dd><p>Extract node and edge coordinates from a NetworkX graph for visualization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>net</strong> (<em>networkx.Graph</em>) – A NetworkX graph whose nodes contain a ‘pos’ attribute storing (x, y) coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>node_x</strong> (<em>list of float</em>) – The x-coordinates of all nodes.</p></li>
<li><p><strong>node_y</strong> (<em>list of float</em>) – The y-coordinates of all nodes.</p></li>
<li><p><strong>edge_x</strong> (<em>list of float</em>) – The x-coordinates of edges, arranged as
<cite>[x0, x1, None, x0, x1, None, …]</cite> for plotting line segments.</p></li>
<li><p><strong>edge_y</strong> (<em>list of float</em>) – The y-coordinates of edges, arranged as
<cite>[y0, y1, None, y0, y1, None, …]</cite> for plotting line segments.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.incrementing">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">incrementing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xbin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.incrementing" title="Link to this definition"></a></dt>
<dd><p>Return evenly spaced values within a given interval in linear or
logarithmic space, or repeat a value a specified number of times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xmin</strong> (<em>float</em>) – The minimum value of the interval.</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – The maximum value of the interval.</p></li>
<li><p><strong>xbin</strong> (<em>float</em><em> or </em><em>int</em>) – Step size for ‘lin’ or ‘log’ methods, or the number of repetitions for ‘rep’.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – The spacing method. Options are:
- ‘lin’ : linear spacing
- ‘log’ : logarithmic spacing
- ‘rep’ : repeat <cite>xmax</cite> <cite>xbin</cite> times</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xi</strong> – The array of incremented values according to the selected method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.init_io">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">init_io</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.init_io" title="Link to this definition"></a></dt>
<dd><p>Initialise required I/O directories for GenMR.</p>
<p>Creates the following directories if they do not already exist:</p>
<ul class="simple">
<li><p>io/</p></li>
<li><p>figs/</p></li>
<li><p>movs/</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.load_json2dict">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">load_json2dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.load_json2dict" title="Link to this definition"></a></dt>
<dd><p>Load a JSON file and return its contents as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Path to the JSON file, relative to the current working directory.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> – The dictionary obtained from the JSON file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.load_pickle2class">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">load_pickle2class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.load_pickle2class" title="Link to this definition"></a></dt>
<dd><p>Load a pickle file and reconstruct the original Python object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Path to the pickle file, relative to the current working directory.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> – The Python object loaded from the pickle file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.marker_peril">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">marker_peril</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peril</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.marker_peril" title="Link to this definition"></a></dt>
<dd><p>Return a marker symbol corresponding to a given point-source peril.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>peril</strong> (<em>str</em>) – The type of point-source peril. Options include:
- ‘AI’ : Asteroid impact
- ‘Ex’ : Explosion
- ‘VE’ : Volcanic eruption</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>marker</strong> – The symbol used to represent the peril:
- ‘+’ : for ‘AI’ or ‘Ex’
- ‘^’ : for ‘VE’
- ‘’  : empty string if the peril is unrecognized</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.utils.norm_z">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">norm_z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sealevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.norm_z" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Normalize</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.partitioning">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">partitioning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">IDs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.partitioning" title="Link to this definition"></a></dt>
<dd><p>Partition weighted IDs into a 1D array of length <cite>n</cite> using cumulative probability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>IDs</strong> (<em>array-like</em>) – A list or array of identifiers.</p></li>
<li><p><strong>w</strong> (<em>array-like</em>) – The weights associated with each ID. Must be non-negative and typically normalized.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – The number of partitions or samples to generate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>vec_IDs</strong> – A sorted 1D array of length <cite>n</cite> containing IDs selected according to their weights.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.pooling">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">pooling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'max'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.pooling" title="Link to this definition"></a></dt>
<dd><p>Downscale a 2D matrix by applying pooling (max, min, or mean)
over non-overlapping f x f blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>numpy.ndarray</em>) – The 2D matrix to be pooled.</p></li>
<li><p><strong>f</strong> (<em>int</em>) – The pooling factor, defining the size of each block.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The pooling method to apply (default is ‘max’). Options are:
- ‘max’  : maximum value in each block
- ‘min’  : minimum value in each block
- ‘mean’ : mean value in each block</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>m_pool</strong> – The pooled matrix of shape (ceil(nx/f), ceil(ny/f)),
where nx and ny are the dimensions of the input matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.save_class2pickle">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">save_class2pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'envLayer_tmpsave'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.save_class2pickle" title="Link to this definition"></a></dt>
<dd><p>Save a class instance to a pickle file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>object</em>) – The class instance to save.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the pickle file (default is ‘envLayer_tmpsave’).
The file is saved in the ‘io/’ directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the class instance to a pickle file and does not return a value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.save_dict2json">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">save_dict2json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'par_tmpsave'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.save_dict2json" title="Link to this definition"></a></dt>
<dd><p>Save a dictionary to a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The dictionary to save.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the JSON file (default is ‘par_tmpsave’). The file is saved in the ‘io/’ directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the dictionary to a JSON file and does not return a value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.zero_boundary_2d">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">zero_boundary_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.zero_boundary_2d" title="Link to this definition"></a></dt>
<dd><p>Set the outer boundary of a 2D array to zero along all four edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>numpy.ndarray</em>) – The 2D array to be modified.</p></li>
<li><p><strong>nx</strong> (<em>int</em>) – The number of rows to zero out at the top and bottom edges.</p></li>
<li><p><strong>ny</strong> (<em>int</em>) – The number of columns to zero out at the left and right edges.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>arr</strong> – The input array with its boundary regions set to zero.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rationale.html" class="btn btn-neutral float-left" title="Rationale" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="notebooks/Tutorial1_DigitalTemplate_environment.html" class="btn btn-neutral float-right" title="Tutorial 1: Generating a virtual environment for the GenMR digital template" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Arnaud Mignan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>