

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reference manual &mdash; GenMR 1.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=58fbf978"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial 1: Generating a virtual environment for the GenMR digital template" href="notebooks/Tutorial1_DigitalTemplate_environment.html" />
    <link rel="prev" title="Rationale" href="rationale.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GenMR
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="rationale.html">Rationale</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#compound-events">Compound events</a></li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#generic-multi-risk-genmr-framework">Generic Multi-Risk (GenMR) framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rationale.html#past-developments">Past developments</a></li>
<li class="toctree-l3"><a class="reference internal" href="rationale.html#new-developments">New developments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#digital-template">Digital Template</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rationale.html#id18">Past developments</a></li>
<li class="toctree-l3"><a class="reference internal" href="rationale.html#id26">New developments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#tutorials">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#how-to-guides">How-to guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="rationale.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reference manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-GenMR.environment">GenMR.environment module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#genmr-virtual-environment-generator">GenMR Virtual Environment Generator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#layers-and-related-objects-v1-1-1">Layers and Related Objects (v1.1.1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#planned-additions-v1-1-2">Planned Additions (v1.1.2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.Ex_S_kton"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.Ex_S_kton</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.area"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.area</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.centroid"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.centroid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.distance_to_coast"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.distance_to_coast</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.distance_to_river"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.distance_to_river</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.name"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.polygon"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.polygon</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.CriticalInfrastructure.zone_type"><code class="docutils literal notranslate"><span class="pre">CriticalInfrastructure.zone_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvLayer_natLand"><code class="docutils literal notranslate"><span class="pre">EnvLayer_natLand</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.FS_state"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.FS_state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.FS_value"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.FS_value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_soil.wetness"><code class="docutils literal notranslate"><span class="pre">EnvLayer_soil.wetness</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.algo_diamondsquare"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.algo_diamondsquare()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.aspect"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.aspect</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.coastline_coord"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.coastline_coord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_cs_compoundbevel"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_cs_compoundbevel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_fr_diamondsquare"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_fr_diamondsquare()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_rv_dampedsine"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_rv_dampedsine()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_th_ellipsoid"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_th_ellipsoid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.model_vo_cone"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.model_vo_cone()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.river_coord"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.river_coord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_topo.slope"><code class="docutils literal notranslate"><span class="pre">EnvLayer_topo.slope</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.CI_refinery"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.CI_refinery</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.bldg_roofpitch"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.bldg_roofpitch</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.bldg_type"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.bldg_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.bldg_value"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.bldg_value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.calc_Pr_urbanise"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.calc_Pr_urbanise()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.get_S_urban"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.get_S_urban()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.get_d4mkd"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.get_d4mkd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.get_industrialZones"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.get_industrialZones()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.get_state_built"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.get_state_built()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.industrialZones"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.industrialZones</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.infiltration"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.infiltration</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.roadNet_coord"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.roadNet_coord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.environment.EnvLayer_urbLand.transform_landUse"><code class="docutils literal notranslate"><span class="pre">EnvLayer_urbLand.transform_landUse()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.EnvObj_roadNetwork"><code class="docutils literal notranslate"><span class="pre">EnvObj_roadNetwork</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.RasterGrid"><code class="docutils literal notranslate"><span class="pre">RasterGrid</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.calc_FS"><code class="docutils literal notranslate"><span class="pre">calc_FS()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.calc_coord_river_dampedsine"><code class="docutils literal notranslate"><span class="pre">calc_coord_river_dampedsine()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.calc_topo_attributes"><code class="docutils literal notranslate"><span class="pre">calc_topo_attributes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.downscale_RasterGrid"><code class="docutils literal notranslate"><span class="pre">downscale_RasterGrid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.get_FS_state"><code class="docutils literal notranslate"><span class="pre">get_FS_state()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.plot_EnvLayer_attr"><code class="docutils literal notranslate"><span class="pre">plot_EnvLayer_attr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.environment.plot_EnvLayers"><code class="docutils literal notranslate"><span class="pre">plot_EnvLayers()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GenMR.perils">GenMR.perils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#genmr-peril-implementation">GenMR Peril Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_FF"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_FF</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_FF.result"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_FF.result()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_FF.run"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_FF.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_FF.write_gif"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_FF.write_gif()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_LS"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_LS</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_LS.result"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_LS.result()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_LS.run"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_LS.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_LS.write_gif"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_LS.write_gif()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_WF"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_WF</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.CellularAutomaton_WF.run"><code class="docutils literal notranslate"><span class="pre">CellularAutomaton_WF.run()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.DynamicHazardFootprintGenerator"><code class="docutils literal notranslate"><span class="pre">DynamicHazardFootprintGenerator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.DynamicHazardFootprintGenerator.generate"><code class="docutils literal notranslate"><span class="pre">DynamicHazardFootprintGenerator.generate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.DynamicHazardFootprintGenerator.load_WF_CA_footprints"><code class="docutils literal notranslate"><span class="pre">DynamicHazardFootprintGenerator.load_WF_CA_footprints()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.EventSetGenerator"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.EventSetGenerator.generate"><code class="docutils literal notranslate"><span class="pre">EventSetGenerator.generate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.add_v_forward"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.add_v_forward()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_I_ash_m"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_I_ash_m()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_I_blast_kPa"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_I_blast_kPa()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_I_shaking_ms2"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_I_shaking_ms2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_I_v_ms"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_I_v_ms()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.calc_S_track"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.calc_S_track()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.generate"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.generate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.get_TC_timeshot"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.get_TC_timeshot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.HazardFootprintGenerator.model_SS_Bathtub"><code class="docutils literal notranslate"><span class="pre">HazardFootprintGenerator.model_SS_Bathtub()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.RiskFootprintGenerator"><code class="docutils literal notranslate"><span class="pre">RiskFootprintGenerator</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.Src"><code class="docutils literal notranslate"><span class="pre">Src</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.par"><code class="docutils literal notranslate"><span class="pre">Src.par</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.AI_char"><code class="docutils literal notranslate"><span class="pre">Src.AI_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.EQ_char"><code class="docutils literal notranslate"><span class="pre">Src.EQ_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.FF_char"><code class="docutils literal notranslate"><span class="pre">Src.FF_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.TC_char"><code class="docutils literal notranslate"><span class="pre">Src.TC_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#GenMR.perils.Src.VE_char"><code class="docutils literal notranslate"><span class="pre">Src.VE_char</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_EQ_length2magnitude"><code class="docutils literal notranslate"><span class="pre">calc_EQ_length2magnitude()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_EQ_magnitude2length"><code class="docutils literal notranslate"><span class="pre">calc_EQ_magnitude2length()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_Lbd_GPD"><code class="docutils literal notranslate"><span class="pre">calc_Lbd_GPD()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_Lbd_exponential"><code class="docutils literal notranslate"><span class="pre">calc_Lbd_exponential()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.calc_Lbd_powerlaw"><code class="docutils literal notranslate"><span class="pre">calc_Lbd_powerlaw()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.get_peril_evID"><code class="docutils literal notranslate"><span class="pre">get_peril_evID()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.incrementing"><code class="docutils literal notranslate"><span class="pre">incrementing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.plot_hazFootprints"><code class="docutils literal notranslate"><span class="pre">plot_hazFootprints()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.plot_src"><code class="docutils literal notranslate"><span class="pre">plot_src()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.plot_vulnFunctions"><code class="docutils literal notranslate"><span class="pre">plot_vulnFunctions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.perils.vuln_f"><code class="docutils literal notranslate"><span class="pre">vuln_f()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-GenMR.utils">GenMR.utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#genmr-utility-functions">GenMR Utility Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.calc_EP"><code class="docutils literal notranslate"><span class="pre">calc_EP()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.calc_riskmetrics_fromELT"><code class="docutils literal notranslate"><span class="pre">calc_riskmetrics_fromELT()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.cmap_peril"><code class="docutils literal notranslate"><span class="pre">cmap_peril()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.col_peril"><code class="docutils literal notranslate"><span class="pre">col_peril()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.col_state_h"><code class="docutils literal notranslate"><span class="pre">col_state_h()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.fetch_A0"><code class="docutils literal notranslate"><span class="pre">fetch_A0()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.get_ind_aspect2moore"><code class="docutils literal notranslate"><span class="pre">get_ind_aspect2moore()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.get_neighborhood_ind"><code class="docutils literal notranslate"><span class="pre">get_neighborhood_ind()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.get_net_coord"><code class="docutils literal notranslate"><span class="pre">get_net_coord()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.incrementing"><code class="docutils literal notranslate"><span class="pre">incrementing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.init_io"><code class="docutils literal notranslate"><span class="pre">init_io()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.load_json2dict"><code class="docutils literal notranslate"><span class="pre">load_json2dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.load_pickle2class"><code class="docutils literal notranslate"><span class="pre">load_pickle2class()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.marker_peril"><code class="docutils literal notranslate"><span class="pre">marker_peril()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.norm_z"><code class="docutils literal notranslate"><span class="pre">norm_z</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.partitioning"><code class="docutils literal notranslate"><span class="pre">partitioning()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.pooling"><code class="docutils literal notranslate"><span class="pre">pooling()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.save_class2pickle"><code class="docutils literal notranslate"><span class="pre">save_class2pickle()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.save_dict2json"><code class="docutils literal notranslate"><span class="pre">save_dict2json()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#GenMR.utils.zero_boundary_2d"><code class="docutils literal notranslate"><span class="pre">zero_boundary_2d()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html">Tutorial 1: Environment generation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#natural-environment-generation">1. Natural environment generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#grid-definition">1.1. Grid definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#natural-peril-definition-for-environmental-objects">1.2. Natural peril definition (for environmental objects)</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#generating-the-topography-soil-and-natural-land-layers">1.3. Generating the topography, soil, and natural land layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#environmental-layer-properties-and-attribute-plotting">1.4. Environmental layer properties (and attribute plotting)</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#a-note-on-environmental-layer-downscaling">1.5. A note on environmental layer downscaling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#technological-environment-generation">2. Technological environment generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#generating-the-urban-land-layer-and-road-network-object">2.1. Generating the urban land layer (and road network object)</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#environmental-layer-properties">2.2. Environmental layer properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial1_DigitalTemplate_environment.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html">Tutorial 2: Peril implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#stochastic-event-set">1. Stochastic event set</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#peril-source-definition">1.1. Peril source definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#event-table-generation">1.2. Event table generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#intensity-footprint-catalogue-generation">1.3. Intensity footprint catalogue generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#from-analytical-expressions-threshold-models">1.3.1. From analytical expressions &amp; threshold models</a></li>
<li class="toctree-l4"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#from-numerical-models-cellular-automata">1.3.2. From numerical models (cellular automata)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#probabilistic-risk-assessment">2. Probabilistic risk assessment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#vulnerability-curve-definition">2.1. Vulnerability curve definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#loss-footprint-catalogue-generation">2.2. Loss footprint catalogue generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#risk-metrics">2.3. Risk metrics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#references">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#appendix">Appendix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#a-peril-sources">A. Peril sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#b-stochastic-event-set">B. Stochastic event set</a><ul>
<li class="toctree-l4"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#b-1-earthquake-case">B.1. Earthquake case</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#c-hazard-footprints">C. Hazard footprints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="notebooks/Tutorial2_DigitalTemplate_perils.html#c-1-tropical-cyclone-case">C.1. Tropical cyclone case</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GenMR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Reference manual</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/manual.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="reference-manual">
<h1>Reference manual<a class="headerlink" href="#reference-manual" title="Link to this heading"></a></h1>
<section id="module-GenMR.environment">
<span id="genmr-environment-module"></span><h2>GenMR.environment module<a class="headerlink" href="#module-GenMR.environment" title="Link to this heading"></a></h2>
<section id="genmr-virtual-environment-generator">
<h3>GenMR Virtual Environment Generator<a class="headerlink" href="#genmr-virtual-environment-generator" title="Link to this heading"></a></h3>
<p>This module defines the environmental layers and objects used in the GenMR digital template.
Environmental layers are implemented as classes, and associated environmental objects are
defined as classes or methods.</p>
<section id="layers-and-related-objects-v1-1-1">
<h4>Layers and Related Objects (v1.1.1)<a class="headerlink" href="#layers-and-related-objects-v1-1-1" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Topography</strong> — includes tectonic hills, river valleys, and volcanic edifices
→ properties: slope, aspect</p></li>
<li><p><strong>Soil</strong> — includes factor of safety</p></li>
<li><p><strong>Natural land</strong></p></li>
<li><p><strong>Urban land</strong> — includes road network
→ properties: asset value</p></li>
</ul>
</section>
<section id="planned-additions-v1-1-2">
<h4>Planned Additions (v1.1.2)<a class="headerlink" href="#planned-additions-v1-1-2" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Atmosphere</p></li>
<li><p>Power grid</p></li>
<li><p>Population</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Arnaud Mignan, Mignan Risk Analytics GmbH</p>
</dd>
<dt class="field-even">Version<span class="colon">:</span></dt>
<dd class="field-even"><p>1.1.1</p>
</dd>
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2025-11-19</p>
</dd>
<dt class="field-even">License<span class="colon">:</span></dt>
<dd class="field-even"><p>AGPL-3</p>
</dd>
</dl>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">CriticalInfrastructure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">shapely.geometry.polygon.Polygon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_to_coast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_to_river</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ex_S_kton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.Ex_S_kton">
<span class="sig-name descname"><span class="pre">Ex_S_kton</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.Ex_S_kton" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.area">
<span class="sig-name descname"><span class="pre">area</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.area" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.centroid">
<span class="sig-name descname"><span class="pre">centroid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.centroid" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.distance_to_coast">
<span class="sig-name descname"><span class="pre">distance_to_coast</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.distance_to_coast" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.distance_to_river">
<span class="sig-name descname"><span class="pre">distance_to_river</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.distance_to_river" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.polygon">
<span class="sig-name descname"><span class="pre">polygon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Polygon</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.polygon" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.environment.CriticalInfrastructure.zone_type">
<span class="sig-name descname"><span class="pre">zone_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#GenMR.environment.CriticalInfrastructure.zone_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_natLand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvLayer_natLand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">soil</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_natLand" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines an environmental layer for the (natural) land classification: water, forest, grassland</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvLayer_soil</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">topo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines an environmental layer for the soil</p>
<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.FS_state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FS_state</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.FS_state" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.FS_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FS_value</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.FS_value" title="Link to this definition"></a></dt>
<dd><p>Return the factor of safety</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_soil.wetness">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wetness</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_soil.wetness" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvLayer_topo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines an environmental layer for the topography on a coarser grid before interpolating back to default.
The state variable is the altitude z(x,y).
Derived variables include slope and aspect.
Other characteristics include the coastline coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>… default resolution [m]</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.algo_diamondsquare">
<span class="sig-name descname"><span class="pre">algo_diamondsquare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roughness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.algo_diamondsquare" title="Link to this definition"></a></dt>
<dd><p>Generate a fractal topography following the Diamond-Square algorithm</p>
<p>i: iteration integer, determines size of final matrix
roughness: 0 &lt; &lt; 1, equivalent to 1-H with H: Hurst exponent with Dfractal = 3-H
m: initial square matrix of size 2^i+1
sig: standard deviation for random deviations</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.aspect">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aspect</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.aspect" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.coastline_coord">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">coastline_coord</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.coastline_coord" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_cs_compoundbevel">
<span class="sig-name descname"><span class="pre">model_cs_compoundbevel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_cs_compoundbevel" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_fr_diamondsquare">
<span class="sig-name descname"><span class="pre">model_fr_diamondsquare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_fr_diamondsquare" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_rv_dampedsine">
<span class="sig-name descname"><span class="pre">model_rv_dampedsine</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_rv_dampedsine" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_th_ellipsoid">
<span class="sig-name descname"><span class="pre">model_th_ellipsoid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_th_ellipsoid" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.model_vo_cone">
<span class="sig-name descname"><span class="pre">model_vo_cone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.model_vo_cone" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.river_coord">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">river_coord</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.river_coord" title="Link to this definition"></a></dt>
<dd><p>Call the function calc_coord_river_dampedsine()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Self</strong></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>…</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_topo.slope">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">slope</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_topo.slope" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvLayer_urbLand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">natLand</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate a city for land use state classification. Model that combines the SLEUTH city growth CA,
the road network growth CA of ref, and the land use state transformation method of …</p>
<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.CI_refinery">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CI_refinery</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.CI_refinery" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.bldg_roofpitch">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bldg_roofpitch</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.bldg_roofpitch" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.bldg_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bldg_type</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.bldg_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.bldg_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bldg_value</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.bldg_value" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.calc_Pr_urbanise">
<span class="sig-name descname"><span class="pre">calc_Pr_urbanise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.calc_Pr_urbanise" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.get_S_urban">
<span class="sig-name descname"><span class="pre">get_S_urban</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">built</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">built_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.get_S_urban" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.get_d4mkd">
<span class="sig-name descname"><span class="pre">get_d4mkd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_test</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.get_d4mkd" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.get_industrialZones">
<span class="sig-name descname"><span class="pre">get_industrialZones</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.get_industrialZones" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.get_state_built">
<span class="sig-name descname"><span class="pre">get_state_built</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbor_k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbor_d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m_kd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.get_state_built" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.industrialZones">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">industrialZones</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.industrialZones" title="Link to this definition"></a></dt>
<dd><p>Cached version of industrial zones.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.infiltration">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">infiltration</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.infiltration" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.roadNet_coord">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">roadNet_coord</span></span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.roadNet_coord" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.environment.EnvLayer_urbLand.transform_landUse">
<span class="sig-name descname"><span class="pre">transform_landUse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvLayer_urbLand.transform_landUse" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.EnvObj_roadNetwork">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">EnvObj_roadNetwork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">topo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.EnvObj_roadNetwork" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate a road network based on the CA described in …</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.environment.RasterGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">RasterGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.RasterGrid" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Define the coordinates (x,y) of the square-pixels of a 2D raster grid.</p>
<p class="rubric">Notes</p>
<p>If x0, xbuffer, ybuffer and/or lat_deg are not provided by the user,
they are fixed to xmin, 0, 0 and 45, respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par</strong> (<em>dict</em>) – Input, dictionary with keys [‘w’, ‘xmin’, ‘x0’ (opt.),
‘xmax’, ‘ymin’, ‘ymax’, ‘xbuffer’ (opt.), ‘ybuffer’ (opt.)]</p></li>
<li><p><strong>w</strong> (<em>float</em>) – Pixel width in km</p></li>
<li><p><strong>xmin</strong> (<em>float</em>) – Minimum abcissa of buffer box</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – Maximum abcissa of buffer box</p></li>
<li><p><strong>ymin</strong> (<em>float</em>) – Minimum ordinate of buffer box</p></li>
<li><p><strong>ymax</strong> (<em>float</em>) – Maximum ordinate of buffer box</p></li>
<li><p><strong>xbuffer</strong> (<em>float</em>) – Buffer width in the x direction (default is 0.)</p></li>
<li><p><strong>ybuffer</strong> (<em>float</em>) – Buffer width in the y direction (default is 0.)</p></li>
<li><p><strong>lat_deg</strong> (<em>float</em>) – Latitude at center of the grid (default is 45.)</p></li>
<li><p><strong>x0</strong> (<em>float</em>) – Abscissa of reference N-S coastline (default is xmin)</p></li>
<li><p><strong>x</strong> (<em>ndarray</em><em>(</em><em>dtype=float</em><em>, </em><em>ndim=1</em><em>)</em>) – 1D array of unique abscissas</p></li>
<li><p><strong>y</strong> (<em>ndarray</em><em>(</em><em>dtype=float</em><em>, </em><em>ndim=1</em><em>)</em>) – 1D array of unique ordinates</p></li>
<li><p><strong>xx</strong> (<em>ndarray</em><em>(</em><em>dtype=float</em><em>, </em><em>ndim=2</em><em>)</em>) – 2D array of grid abscissas</p></li>
<li><p><strong>yy</strong> (<em>ndarray</em><em>(</em><em>dtype=float</em><em>, </em><em>ndim=2</em><em>)</em>) – 2D array of grid ordinates</p></li>
<li><p><strong>nx</strong> (<em>int</em>) – Length of x</p></li>
<li><p><strong>ny</strong> (<em>int</em>) – Length of y</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new instance of class RasterGrid</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>class instance</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Create a grid</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span> <span class="o">=</span> <span class="n">RasterGrid</span><span class="p">({</span><span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;xmin&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;xmax&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;ymin&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;ymax&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">x</span>
<span class="go">array([0., 1., 2.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">y</span>
<span class="go">array([0., 1., 2., 3.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">xx</span>
<span class="go">array([[0., 0., 0., 0.],</span>
<span class="go">   [1., 1., 1., 1.],</span>
<span class="go">   [2., 2., 2., 2.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid</span><span class="o">.</span><span class="n">yy</span>
<span class="go">array([[0., 1., 2., 3.],</span>
<span class="go">   [0., 1., 2., 3.],</span>
<span class="go">   [0., 1., 2., 3.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.calc_FS">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">calc_FS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.calc_FS" title="Link to this definition"></a></dt>
<dd><p>Calculates the factor of safety using Eq. 3 of Pack et al. (1998).</p>
<dl class="simple">
<dt>Reference:</dt><dd><p>Pack RT, Tarboton DG, Goodwin CN (1998), The SINMAP Approach to Terrain Stability Mapping.
Proceedings of the 8th Congress of the International Association of Engineering Geology, Vancouver, BC,
Canada, 21 September 1998</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.calc_coord_river_dampedsine">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">calc_coord_river_dampedsine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.calc_coord_river_dampedsine" title="Link to this definition"></a></dt>
<dd><p>Calculate the (x,y,z) coordinates of the river(s) defined from a damped sine wave.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.calc_topo_attributes">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">calc_topo_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.calc_topo_attributes" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.downscale_RasterGrid">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">downscale_RasterGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pooling'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.downscale_RasterGrid" title="Link to this definition"></a></dt>
<dd><p>Reduce the resolution of a RasterGrid grid for specific applications.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">appl</span></code> parameter controls how the downscaling is performed:
- <code class="docutils literal notranslate"><span class="pre">topo</span></code>: for topography generation (with outer layer) for later upscaling.
- <code class="docutils literal notranslate"><span class="pre">pooling</span></code>: for max- or mean-pooling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid"><em>RasterGrid</em></a>) – Input raster grid.</p></li>
<li><p><strong>factor</strong> (<em>int</em>) – Downscaling factor.</p></li>
<li><p><strong>appl</strong> (<em>str</em><em>, </em><em>optional</em>) – Application mode. Defaults to ‘pooling’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Downscaled raster grid.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#GenMR.environment.RasterGrid" title="GenMR.environment.RasterGrid">RasterGrid</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.get_FS_state">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">get_FS_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">FS</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.get_FS_state" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.plot_EnvLayer_attr">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">plot_EnvLayer_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">envLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hillshading_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.plot_EnvLayer_attr" title="Link to this definition"></a></dt>
<dd><p>Plot the attribute of an environmental layer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The attr argument should be the string version of the variable name,
e.g., z becomes ‘z’, slope becomes ‘slope’.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>envLayer</strong> (<em>class</em>) – An instance of environmental layer class</p></li>
<li><p><strong>attr</strong> (<em>str</em>) – The identifier of the attribute</p></li>
<li><p><strong>hillshading_z</strong> (<em>ndarray</em><em>(</em><em>dtype=float</em><em>, </em><em>ndim=2</em><em>)</em><em>, </em><em>optional</em>) – The elevation grid array</p></li>
<li><p><strong>file_ext</strong> (<em>str</em><em>, </em><em>optional</em>) – String representing the figure format (‘jpg’, ‘pdf’, etc., ‘-’ by default)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A plot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.environment.plot_EnvLayers">
<span class="sig-prename descclassname"><span class="pre">GenMR.environment.</span></span><span class="sig-name descname"><span class="pre">plot_EnvLayers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">envLayers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.environment.plot_EnvLayers" title="Link to this definition"></a></dt>
<dd><p>Plot the listed environmental layers for a maximum of 3 attributes/properties
per layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>envLayers</strong> (<em>list</em>) – The list of class instances of environmental layers</p></li>
<li><p><strong>save_as</strong> (<em>str</em><em>, </em><em>optional</em>) – String representing the figure format (‘jpg’ or ‘pdf’, ‘-’ by default)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A plot</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-GenMR.perils">
<span id="genmr-perils-module"></span><h2>GenMR.perils module<a class="headerlink" href="#module-GenMR.perils" title="Link to this heading"></a></h2>
<section id="genmr-peril-implementation">
<h3>GenMR Peril Implementation<a class="headerlink" href="#genmr-peril-implementation" title="Link to this heading"></a></h3>
<p>This module provides functions to define and implement perils in the GenMR digital template.
This includes tools for full catastrophe risk modelling, such as event loss table (ELT) definition,
intensity and loss footprint computation… TO DEVELOP/REWRITE</p>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Arnaud Mignan, Mignan Risk Analytics GmbH</p>
</dd>
<dt class="field-even">Version<span class="colon">:</span></dt>
<dd class="field-even"><p>0.1</p>
</dd>
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2025-11-21</p>
</dd>
<dt class="field-even">License<span class="colon">:</span></dt>
<dd class="field-even"><p>AGPL-3</p>
</dd>
</dl>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_FF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">CellularAutomaton_FF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I_RS</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topoLayer_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_FF" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_FF.result">
<span class="sig-name descname"><span class="pre">result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_FF.result" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_FF.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_FF.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_FF.write_gif">
<span class="sig-name descname"><span class="pre">write_gif</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_FF.write_gif" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_LS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">CellularAutomaton_LS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">soilLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wetness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_LS" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_LS.result">
<span class="sig-name descname"><span class="pre">result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_LS.result" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_LS.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_LS.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_LS.write_gif">
<span class="sig-name descname"><span class="pre">write_gif</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_LS.write_gif" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_WF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">CellularAutomaton_WF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urbLandLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_plot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_WF" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.CellularAutomaton_WF.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.CellularAutomaton_WF.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.DynamicHazardFootprintGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">DynamicHazardFootprintGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stochset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soilLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urbLandLayer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.DynamicHazardFootprintGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.DynamicHazardFootprintGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selected_perils</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_recompute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.DynamicHazardFootprintGenerator.generate" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.DynamicHazardFootprintGenerator.load_WF_CA_footprints">
<span class="sig-name descname"><span class="pre">load_WF_CA_footprints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_WF_CA_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.DynamicHazardFootprintGenerator.load_WF_CA_footprints" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">EventSetGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizeDistr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utils</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.EventSetGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generates stochastic event set based on source and size distribution parameters.</p>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.EventSetGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.EventSetGenerator.generate" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">HazardFootprintGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stochset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evchar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topo_z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.add_v_forward">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_v_forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vtan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.add_v_forward" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_I_ash_m">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_I_ash_m</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_I_ash_m" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_I_blast_kPa">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_I_blast_kPa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_I_blast_kPa" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_I_shaking_ms2">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_I_shaking_ms2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_I_shaking_ms2" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_I_v_ms">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_I_v_ms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">par</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_I_v_ms" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.calc_S_track">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_S_track</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stochset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Track_coord</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.calc_S_track" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.generate" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.get_TC_timeshot">
<span class="sig-name descname"><span class="pre">get_TC_timeshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.get_TC_timeshot" title="Link to this definition"></a></dt>
<dd><p>Compute a single time-step (snapshot) of a tropical cyclone (TC) event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evID</strong> (<em>str</em>) – Event ID</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Time index along the cyclone track (0 ≤ t &lt; npt)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>I_sym_t (ndarray): Symmetric wind field (static storm).
I_asym_t (ndarray): Asymmetric wind field (storm in motion).
vtot_x (ndarray): Total velocity component along x.
vtot_y (ndarray): Total velocity component along y.
vtan_x (ndarray): Tangential velocity component along x.
vtan_y (ndarray): Tangential velocity component along y.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GenMR.perils.HazardFootprintGenerator.model_SS_Bathtub">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model_SS_Bathtub</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I_trigger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topo_z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.HazardFootprintGenerator.model_SS_Bathtub" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.RiskFootprintGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">RiskFootprintGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">catalog_hazFootprints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">urbLandLayer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evtable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.RiskFootprintGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.perils.Src">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">Src</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">par</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.Src" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Define the characteristics of the peril sources.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="GenMR.perils.Src.par">
<span class="sig-name descname"><span class="pre">par</span></span><a class="headerlink" href="#GenMR.perils.Src.par" title="Link to this definition"></a></dt>
<dd><p>A dictionary with nested keys [‘perils’,
‘EQ’[‘x’, ‘y’, ‘w_km’, ‘dip_deg’, ‘z_km’, ‘mec’, ‘bin_km’],
‘FF’[‘riv_A_km’, ‘riv_lbd’, ‘riv_ome’, ‘riv_y0’, ‘Q_m3/s’, ‘A_km2’],
‘VE’[‘x’, ‘y’]]</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.AI_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AI_char</span></span><a class="headerlink" href="#GenMR.perils.Src.AI_char" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.EQ_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EQ_char</span></span><a class="headerlink" href="#GenMR.perils.Src.EQ_char" title="Link to this definition"></a></dt>
<dd><p>Calls the function get_char_srcLine(self, par) if EQ source provided, otherwise
returns error message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>self</strong></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>xxx</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>x</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.FF_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FF_char</span></span><a class="headerlink" href="#GenMR.perils.Src.FF_char" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.TC_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TC_char</span></span><a class="headerlink" href="#GenMR.perils.Src.TC_char" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="GenMR.perils.Src.VE_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VE_char</span></span><a class="headerlink" href="#GenMR.perils.Src.VE_char" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_EQ_length2magnitude">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_EQ_length2magnitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">L</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_EQ_length2magnitude" title="Link to this definition"></a></dt>
<dd><p>Given the earthquake rupture L (km), calculate the magnitude M</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_EQ_magnitude2length">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_EQ_magnitude2length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_EQ_magnitude2length" title="Link to this definition"></a></dt>
<dd><p>Given the earthquake magnitude M, calculate the rupture length L (km)
(for floating rupture computations)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_Lbd_GPD">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_Lbd_GPD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Lbdmin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_Lbd_GPD" title="Link to this definition"></a></dt>
<dd><p>Calculate the cumulative rate Lbd according to the Generalised Pareto Distribution (Eq. 2.50) given event size S</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_Lbd_exponential">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_Lbd_exponential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_Lbd_exponential" title="Link to this definition"></a></dt>
<dd><p>Calculate the cumulative rate Lbd according to an exponential law (Eq. 2.39) given event size S</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.calc_Lbd_powerlaw">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">calc_Lbd_powerlaw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.calc_Lbd_powerlaw" title="Link to this definition"></a></dt>
<dd><p>Calculate the cumulative rate Lbd according to a power-law (Eq. 2.38) given event size S</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.get_peril_evID">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">get_peril_evID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evIDs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.get_peril_evID" title="Link to this definition"></a></dt>
<dd><p>Return the peril identifiers for an array of event identifiers</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.incrementing">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">incrementing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xbin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.incrementing" title="Link to this definition"></a></dt>
<dd><p>Return evenly spaced values within a given interval in linear or log scale</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.plot_hazFootprints">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">plot_hazFootprints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">catalog_hazFootprints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topoLayer_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_Imax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nstoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.plot_hazFootprints" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.plot_src">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">plot_src</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hillshading_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.plot_src" title="Link to this definition"></a></dt>
<dd><p>Plot peril sources in the spatial grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>class</em>) – An instance of class RasterGrid</p></li>
<li><p><strong>par</strong> (<em>dict</em>) – A dictionary with nested keys [‘perils’,
‘EQ’[‘x’, ‘y’, ‘w_km’, ‘dip_deg’, ‘z_km’, ‘mec’, ‘bin_km’],
‘FF’[‘riv_A_km’, ‘riv_lbd’, ‘riv_ome’, ‘riv_y0’, ‘Q_m3/s’, ‘A_km2’],
‘VE’[‘x’, ‘y’]]</p></li>
<li><p><strong>file_ext</strong> (<em>str</em><em>, </em><em>optional</em>) – String representing the figure format (‘jpg’, ‘pdf’, etc., ‘-’ by default)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A plot (saved in file if file_ext not ‘-‘)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.plot_vulnFunctions">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">plot_vulnFunctions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.plot_vulnFunctions" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.perils.vuln_f">
<span class="sig-prename descclassname"><span class="pre">GenMR.perils.</span></span><span class="sig-name descname"><span class="pre">vuln_f</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peril</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.perils.vuln_f" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-GenMR.utils">
<span id="genmr-utils-module"></span><h2>GenMR.utils module<a class="headerlink" href="#module-GenMR.utils" title="Link to this heading"></a></h2>
<section id="genmr-utility-functions">
<h3>GenMR Utility Functions<a class="headerlink" href="#genmr-utility-functions" title="Link to this heading"></a></h3>
<p>This module provides miscellaneous utility functions for input/output management,
computing, and plotting within the GenMR package. These functions support
core GenMR workflows by streamlining data handling, computation, and visualisation tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Arnaud Mignan, Mignan Risk Analytics GmbH</p>
</dd>
<dt class="field-even">Version<span class="colon">:</span></dt>
<dd class="field-even"><p>1.1.1</p>
</dd>
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2025-12-03</p>
</dd>
<dt class="field-even">License<span class="colon">:</span></dt>
<dd class="field-even"><p>AGPL-3</p>
</dd>
</dl>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.calc_EP">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">calc_EP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lbd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.calc_EP" title="Link to this definition"></a></dt>
<dd><p>Calculate the cumulative event frequency and the exceedance probability
for a series of event rates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>lbd</strong> (<em>array-like</em>) – An array of event rates (lambda) for individual events.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>EFi</strong> (<em>numpy.ndarray</em>) – Cumulative event frequencies, computed as the cumulative sum of the event rates.</p></li>
<li><p><strong>EPi</strong> (<em>numpy.ndarray</em>) – Exceedance probabilities corresponding to each cumulative frequency, calculated as
<cite>1 - exp(-EFi)</cite> (following Mignan, 2024, eq. 3.22).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.calc_riskmetrics_fromELT">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">calc_riskmetrics_fromELT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ELT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_VAR</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.calc_riskmetrics_fromELT" title="Link to this definition"></a></dt>
<dd><p>Calculate key risk metrics from an Event Loss Table (ELT), including
Average Annual Loss (AAL), Value-at-Risk (VaR), and Tail Value-at-Risk (TVaR).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ELT</strong> (<em>pandas.DataFrame</em>) – Event Loss Table containing at least the following columns:
- ‘L’   : Loss for each event
- ‘lbd’ : Event rate (lambda) for each event</p></li>
<li><p><strong>q_VAR</strong> (<em>float</em>) – Confidence level for Value-at-Risk (e.g., 0.95 for 95% VaR)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>ELT</strong> (<em>pandas.DataFrame</em>) – Input ELT augmented with cumulative event frequency (‘EF’) and
exceedance probability (‘EP’) columns.</p></li>
<li><p><strong>AAL</strong> (<em>float</em>) – Average Annual Loss, computed as the sum of lbd * L (Mignan 2024, eq. 3.18).</p></li>
<li><p><strong>VaRq_interp</strong> (<em>float</em>) – Interpolated Value-at-Risk at the given confidence level.</p></li>
<li><p><strong>TVaRq_interp</strong> (<em>float</em>) – Interpolated Tail Value-at-Risk at the given confidence level.</p></li>
<li><p><strong>VaRq</strong> (<em>float</em>) – Discrete VaR from the ELT.</p></li>
<li><p><strong>TVaRq</strong> (<em>float</em>) – Discrete TVaR from the ELT.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.cmap_peril">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">cmap_peril</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peril</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.cmap_peril" title="Link to this definition"></a></dt>
<dd><p>Create a two-color matplotlib colormap transitioning from white to the
color associated with a given peril.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>peril</strong> (<em>str</em>) – The type of peril for which to generate the colormap.
Passed to <cite>col_peril(peril)</cite> to get the corresponding color.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>cmap_peril</strong> – A two-color colormap transitioning from white to the color representing the peril.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib.colors.LinearSegmentedColormap</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.col_peril">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">col_peril</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peril</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.col_peril" title="Link to this definition"></a></dt>
<dd><p>Return a color code corresponding to a given point-source or natural peril.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>peril</strong> (<em>str</em>) – The type of peril. Options include:
- ‘AI’  : Asteroid impact
- ‘EQ’  : Earthquake
- ‘LS’  : Landslide
- ‘VE’  : Volcanic eruption
- ‘FF’  : Fluvial flood
- ‘SS’  : Storm surge
- ‘RS’  : Rainstorm
- ‘TC’  : Tropical cyclone
- ‘WS’  : Windstorm
- ‘Ex’  : Explosion</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>col</strong> – The hexadecimal color code assigned to the peril:
- ‘#663399’ : ‘AI’ (Rebeccapurple)
- ‘#CD853F’ : ‘EQ’, ‘LS’, ‘VE’ (Peru)
- ‘#20B2AA’ : ‘FF’, ‘SS’ (MediumSeaGreen)
- ‘#4169E1’ : ‘RS’, ‘TC’, ‘WS’ (RoyalBlue)
- ‘#FF8C00’ : ‘Ex’ (Safety Orange)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.col_state_h">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">col_state_h</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.col_state_h" title="Link to this definition"></a></dt>
<dd><p>Assign integer state codes to a height matrix based on erosion and
landslide conditions relative to a reference height.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>numpy.ndarray</em>) – The height matrix.</p></li>
<li><p><strong>h0</strong> (<em>float</em>) – The reference height for scaling the erosion/landslide thresholds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>h_plot</strong> – An array of the same shape as <cite>h</cite>, where each element is an integer
code representing the state:</p>
<ul class="simple">
<li><p>0 : erosion +++ (scarp)</p></li>
<li><p>1 : intact</p></li>
<li><p>2 : erosion ++</p></li>
<li><p>3 : erosion +</p></li>
<li><p>4 : landslide +</p></li>
<li><p>5 : landslide ++</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.fetch_A0">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">fetch_A0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.fetch_A0" title="Link to this definition"></a></dt>
<dd><p>Fetch the predefined area value corresponding to a specified geographical level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>level</strong> (<em>str</em>) – The geographical level. Options include:
- ‘global’
- ‘CONUS’
- ‘IT’
- ‘JP’
- ‘US_CA’
- ‘US_FL’</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>A0</strong> – The area value associated with the specified level.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.get_ind_aspect2moore">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">get_ind_aspect2moore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind_old</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.get_ind_aspect2moore" title="Link to this definition"></a></dt>
<dd><p>Convert neighborhood indices defined by an aspect-angle system into
standard Moore neighborhood indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ind_old</strong> (<em>int</em><em> or </em><em>array-like</em>) – Index or array of indices derived from the aspect-angle convention (0-8),
where orientation is computed as <cite>np.round(aspect * 8 / 360).astype(int)</cite>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ind_new</strong> – The corresponding Moore neighborhood indices, following the ordering
used in <cite>get_neighborhood_ind()</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or numpy.ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The aspect-angle system assigns indices as follows:</p>
<blockquote>
<div><p>7 6 5
0   4
1 2 3</p>
</div></blockquote>
<p>Moore neighborhood indices (used in <cite>get_neighborhood_ind</cite>) follow this pattern:</p>
<blockquote>
<div><p>0 1 2
3   4
5 6 7</p>
</div></blockquote>
<p>The conversion maps aspect-angle indices to Moore indices.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.get_neighborhood_ind">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">get_neighborhood_ind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Moore'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.get_neighborhood_ind" title="Link to this definition"></a></dt>
<dd><p>Get the indices of neighboring cells around a focal cell in a 2D grid,
based on a specified neighborhood type and radius of vision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – Row index of the focal cell.</p></li>
<li><p><strong>j</strong> (<em>int</em>) – Column index of the focal cell.</p></li>
<li><p><strong>grid_shape</strong> (<em>tuple</em><em> of </em><em>int</em>) – The shape of the 2D grid as (nx, ny).</p></li>
<li><p><strong>r_v</strong> (<em>int</em>) – The radius of vision (neighborhood radius).</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The neighborhood definition (default is ‘Moore’). Options are:
- ‘Moore’          : all cells within a square radius <cite>r_v</cite>, excluding the center.
- ‘vonNeumann’     : cross-shaped neighborhood with Manhattan distance <cite>r_v</cite>.
- ‘White_etal1997’ : circular neighborhood based on Euclidean distance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>neigh_ind</strong> – A list containing two arrays:
- neigh_ind[0] : row indices of neighboring cells.
- neigh_ind[1] : column indices of neighboring cells.
Both arrays exclude the focal cell <cite>(i, j)</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.get_net_coord">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">get_net_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">net</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.get_net_coord" title="Link to this definition"></a></dt>
<dd><p>Extract node and edge coordinates from a NetworkX graph for visualization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>net</strong> (<em>networkx.Graph</em>) – A NetworkX graph whose nodes contain a ‘pos’ attribute storing (x, y) coordinates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>node_x</strong> (<em>list of float</em>) – The x-coordinates of all nodes.</p></li>
<li><p><strong>node_y</strong> (<em>list of float</em>) – The y-coordinates of all nodes.</p></li>
<li><p><strong>edge_x</strong> (<em>list of float</em>) – The x-coordinates of edges, arranged as
<cite>[x0, x1, None, x0, x1, None, …]</cite> for plotting line segments.</p></li>
<li><p><strong>edge_y</strong> (<em>list of float</em>) – The y-coordinates of edges, arranged as
<cite>[y0, y1, None, y0, y1, None, …]</cite> for plotting line segments.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.incrementing">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">incrementing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xbin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.incrementing" title="Link to this definition"></a></dt>
<dd><p>Return evenly spaced values within a given interval in linear or
logarithmic space, or repeat a value a specified number of times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xmin</strong> (<em>float</em>) – The minimum value of the interval.</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – The maximum value of the interval.</p></li>
<li><p><strong>xbin</strong> (<em>float</em><em> or </em><em>int</em>) – Step size for ‘lin’ or ‘log’ methods, or the number of repetitions for ‘rep’.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – The spacing method. Options are:
- ‘lin’ : linear spacing
- ‘log’ : logarithmic spacing
- ‘rep’ : repeat <cite>xmax</cite> <cite>xbin</cite> times</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>xi</strong> – The array of incremented values according to the selected method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.init_io">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">init_io</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.init_io" title="Link to this definition"></a></dt>
<dd><p>Initialise required I/O directories for GenMR.</p>
<p>Creates the following directories if they do not already exist:</p>
<ul class="simple">
<li><p>io/</p></li>
<li><p>figs/</p></li>
<li><p>movs/</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.load_json2dict">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">load_json2dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.load_json2dict" title="Link to this definition"></a></dt>
<dd><p>Load a JSON file and return its contents as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Path to the JSON file, relative to the current working directory.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> – The dictionary obtained from the JSON file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.load_pickle2class">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">load_pickle2class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.load_pickle2class" title="Link to this definition"></a></dt>
<dd><p>Load a pickle file and reconstruct the original Python object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Path to the pickle file, relative to the current working directory.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> – The Python object loaded from the pickle file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.marker_peril">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">marker_peril</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">peril</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.marker_peril" title="Link to this definition"></a></dt>
<dd><p>Return a marker symbol corresponding to a given point-source peril.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>peril</strong> (<em>str</em>) – The type of point-source peril. Options include:
- ‘AI’ : Asteroid impact
- ‘Ex’ : Explosion
- ‘VE’ : Volcanic eruption</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>marker</strong> – The symbol used to represent the peril:
- ‘+’ : for ‘AI’ or ‘Ex’
- ‘^’ : for ‘VE’
- ‘’  : empty string if the peril is unrecognized</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GenMR.utils.norm_z">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">norm_z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sealevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.norm_z" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Normalize</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.partitioning">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">partitioning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">IDs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.partitioning" title="Link to this definition"></a></dt>
<dd><p>Partition weighted IDs into a 1D array of length <cite>n</cite> using cumulative probability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>IDs</strong> (<em>array-like</em>) – A list or array of identifiers.</p></li>
<li><p><strong>w</strong> (<em>array-like</em>) – The weights associated with each ID. Must be non-negative and typically normalized.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – The number of partitions or samples to generate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>vec_IDs</strong> – A sorted 1D array of length <cite>n</cite> containing IDs selected according to their weights.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.pooling">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">pooling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'max'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.pooling" title="Link to this definition"></a></dt>
<dd><p>Downscale a 2D matrix by applying pooling (max, min, or mean)
over non-overlapping f x f blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>numpy.ndarray</em>) – The 2D matrix to be pooled.</p></li>
<li><p><strong>f</strong> (<em>int</em>) – The pooling factor, defining the size of each block.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The pooling method to apply (default is ‘max’). Options are:
- ‘max’  : maximum value in each block
- ‘min’  : minimum value in each block
- ‘mean’ : mean value in each block</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>m_pool</strong> – The pooled matrix of shape (ceil(nx/f), ceil(ny/f)),
where nx and ny are the dimensions of the input matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.save_class2pickle">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">save_class2pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'envLayer_tmpsave'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.save_class2pickle" title="Link to this definition"></a></dt>
<dd><p>Save a class instance to a pickle file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>object</em>) – The class instance to save.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the pickle file (default is ‘envLayer_tmpsave’).
The file is saved in the ‘io/’ directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the class instance to a pickle file and does not return a value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.save_dict2json">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">save_dict2json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'par_tmpsave'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.save_dict2json" title="Link to this definition"></a></dt>
<dd><p>Save a dictionary to a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The dictionary to save.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the JSON file (default is ‘par_tmpsave’). The file is saved in the ‘io/’ directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the dictionary to a JSON file and does not return a value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GenMR.utils.zero_boundary_2d">
<span class="sig-prename descclassname"><span class="pre">GenMR.utils.</span></span><span class="sig-name descname"><span class="pre">zero_boundary_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GenMR.utils.zero_boundary_2d" title="Link to this definition"></a></dt>
<dd><p>Set the outer boundary of a 2D array to zero along all four edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>numpy.ndarray</em>) – The 2D array to be modified.</p></li>
<li><p><strong>nx</strong> (<em>int</em>) – The number of rows to zero out at the top and bottom edges.</p></li>
<li><p><strong>ny</strong> (<em>int</em>) – The number of columns to zero out at the left and right edges.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>arr</strong> – The input array with its boundary regions set to zero.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rationale.html" class="btn btn-neutral float-left" title="Rationale" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="notebooks/Tutorial1_DigitalTemplate_environment.html" class="btn btn-neutral float-right" title="Tutorial 1: Generating a virtual environment for the GenMR digital template" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Arnaud Mignan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>